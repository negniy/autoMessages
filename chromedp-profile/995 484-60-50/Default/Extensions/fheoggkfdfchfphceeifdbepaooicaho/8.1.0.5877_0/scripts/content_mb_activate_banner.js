/*!
 * 
 *     MCAFEE RESTRICTED CONFIDENTIAL
 *     Copyright (c) 2025 McAfee, LLC
 *
 *     The source code contained or described herein and all documents related
 *     to the source code ("Material") are owned by McAfee or its
 *     suppliers or licensors. Title to the Material remains with McAfee
 *     or its suppliers and licensors. The Material contains trade
 *     secrets and proprietary and confidential information of McAfee or its
 *     suppliers and licensors. The Material is protected by worldwide copyright
 *     and trade secret laws and treaty provisions. No part of the Material may
 *     be used, copied, reproduced, modified, published, uploaded, posted,
 *     transmitted, distributed, or disclosed in any way without McAfee's prior
 *     express written permission.
 *
 *     No license under any patent, copyright, trade secret or other intellectual
 *     property right is granted to or conferred upon you by disclosure or
 *     delivery of the Materials, either expressly, by implication, inducement,
 *     estoppel or otherwise. Any license under such intellectual property rights
 *     must be expressed and approved by McAfee in writing.
 *
 */(()=>{"use strict";var e={4924:(e,t,n)=>{n.d(t,{AK:()=>i});const i={NONE:"NONE",ONLY_SECURE_SEARCH:"ONLY_SECURE_SEARCH",ALL:"ALL",*[Symbol.iterator](){for(const e of Object.keys(this))yield e}}},1999:(e,t,n)=>{n.d(t,{R:()=>i});const i={ANNOTATION:{},BackgroundIPC:null,BackgroundCommons:null,ContextTelemetry:null,TelemetryEventNames:null,UrlParser:null,Utils:null,Commands:{},CommonConstants:{},extension:null,SearchEngineHelper:null,prevLink:null,Logger:null}},3467:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(1999);class s{static getResString(e,t){i.R.ANNOTATION.resourceRequestor.getResStr(e,(n=>{n?t(n):i.R.Logger.error(`Resource string ${e} failed to fetch through resource requestor`)}))}}},3749:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(827);const s=async(e,t,n={},s={})=>{try{if(s?.tabId){const{tabId:i,frameId:o}=s;return await a(e,t,n,i,o)}if(s?.broadcast){const i=await chrome.tabs.query({}),{broadcastIgnoreId:a=[]}=s;return i.filter((({id:e})=>!a.includes(e))).forEach((({id:i})=>{o(e,t,n,i)})),!0}return await chrome.runtime.sendMessage({ipcId:e,command:t,...n})}catch(e){return i.Ay.warn(`Unexpected error when calling command: "${t}", err: ${e.message}`),null}},o=async(e,t,n,s)=>{try{chrome.tabs.sendMessage(s,{ipcId:e,command:t,...n},{},(()=>{chrome.runtime.lastError}))}catch(e){i.Ay.warn(`[broadcast] Unexpected error when calling command: "${t}", err: ${e.message}`)}},a=(e,t,n,i,s=null)=>{if(!chrome.tabs)throw new Error('"tabs" permission not set in manifest.');const o={};return"number"==typeof s&&(o.frameId=s),chrome.tabs.sendMessage(i,{ipcId:e,command:t,...n},o)}},8254:(e,t,n)=>{n.d(t,{F:()=>i});const i={PRINT_IN_BACKGROUND:"PRINT_IN_BACKGROUND"}},827:(e,t,n)=>{n.d(t,{Ay:()=>T});var i=n(5835),s=n(8254);const o={NONE:0,INFO:1,ERROR:2,WARN:3,DEBUG:4,ALL_IN_BACKGROUND:99},a=1,r=2,_=3,E=4,l={BACKGROUND:"BACKGROUND",CONTENT:"CONTENT",TELEMETRY:"TELEMETRY"},c={DEFAULT:"color: #000000; font-weight: normal; font-style:normal; background: #FFFFFF;",BACKGROUND:"color: #8D0DBA; font-weight: bold; background: #FFFFFF;",CONTENT:"color: #F54A26; font-weight: bold; background: #FFFFFF;",TELEMETRY:"color: #147831; font-weight: bold; background: #FFFFFF;"};const T=new class{constructor(){this.storageChecked=!1,this.logLevel=null,this.queue=[];const e="MCLOGLEVEL";chrome?.storage?.local.get([e]).then((t=>{const n=Object.values(o).includes(t[e]);this.logLevel=n?t[e]:i.M.LOG_LEVEL,this.logLevel!==o.NONE&&this.queue.forEach((({callback:e,message:t,processType:n})=>{e(t,n)})),this.queue=[],this.storageChecked=!0}))}log(e,t=null){this.storageChecked?this.processLog(e,a,t,this.logLevel):this.queue.push({callback:this.log.bind(this),message:e,processType:t})}error(e,t=null){this.storageChecked?this.processLog(e,r,t,this.logLevel):this.queue.push({callback:this.error.bind(this),message:e,processType:t})}warn(e,t=null){this.storageChecked?this.processLog(e,_,t,this.logLevel):this.queue.push({callback:this.warn.bind(this),message:e,processType:t})}debug(e,t=null){this.storageChecked?this.processLog(e,E,t,this.logLevel):this.queue.push({callback:this.debug.bind(this),message:e,processType:t})}processLog(e,t,n,i){if(i===o.NONE)return;let a="chrome-extension:"===location.protocol?l.BACKGROUND:l.CONTENT;n&&l[n]&&(a=n);const _=new Date,E=t===r?e:`%c[${a} ${_.toLocaleString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}]: %c${e}`;a===l.CONTENT&&this.logLevel===o.ALL_IN_BACKGROUND&&chrome.runtime.sendMessage({command:s.F.PRINT_IN_BACKGROUND,logMessage:E,processType:a,logType:t,logLevel:i}),this.printLog(E,a,t,i)}printLog(e,t,n,i){const s=c.DEFAULT,l=c[t]||s;if(i>=o.ERROR&&n===r&&console.error(e),i>=o.INFO&&n===a&&console.log(e,l,s),i>=o.WARN&&n===_){const t="color: #FFA500; font-family: sans-serif; font-weight: bolder; text-shadow: #000 1px 1px;";console.log(`%cWARN - ${e}`,t,l,s)}if(i>=o.DEBUG&&n===E){const t="color: #FF33D7; font-family: sans-serif; font-weight: bolder; text-shadow: #000 1px 1px;";console.log(`%cDEBUG - ${e}`,t,l,s)}}}},5835:(e,t,n)=>{n.d(t,{M:()=>i});const i={LOG_LEVEL:0}},22:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(6796);class s{static geti18nRes(e,t=[]){let n=i.c.i18n.getMessage(e,t);const s=i.c.i18n.getMessage("res_PRODUCT_NAME_TRADEMARKED");return n=n.replace(/%PRODUCTNAME%/g,s),n}static getResStr(e,t){const n=s.geti18nRes(e);t("??"===n?"":n)}static async getFileSource(e){try{return(await fetch(i.c.runtime.getURL(e))).text()}catch(e){return""}}}},7339:(e,t,n)=>{n.d(t,{v:()=>E});var i=n(4394),s=n(8791),o=n(2966),a=n(7089),r=n(4671),_=n(6511);const E={isTrustCheckRequired:!0,ExtensionTelemetryUrl:null,scheduleManager:null,isNativeConnected:!0,telemetryEngine:null,postInstallationPage:"https://www.mcafee.com/consumer/v/wa-how.html",listenerManager:null,firefoxInternalUUID:"",shadowMode:"closed",browserType:o.Kr.BROWSER_TYPE,sessionStore:null,localStore:null,idb:null,ffViewports:null,garbageCollector:null,typoCache:null,logger:null,loglevel:null,messageDispatcher:null,port:null,tabData:new s.A,useNativeLogger:!1,wasm:null,userAgentInBase64:null,typoSquattingServer:a.wS.TYPOSQUATTING_SERVER,tldParser:null,urlParser:null,trustedDomains:a.BS,nativeSettings:i.nW,searchSuggest:null,ratBlacklist:a.hZ,preconditions:null,platform:_.Ay.getPlatform(),wssMessageDispatcher:null,wssNativeClient:null,WSS_INSTALLED:!1,isWPSInstalled:!1,searchEngines:null,enginesVersionUrl:a.wS.ENGINE_VERSION_URL,engineCheckInterval:864e5,ENGINES_VERSION:o.Kr.ENGINES_VERSION,AUTO_PLAY_NOTIFICATION_ENABLED:!1,DLS_POPUP_FOR_WA_NATIVE_ENABLED:!1,WA_EXTN_CONDITION_URL:a.wS.WA_EXTN_CONDITION_URL,ALLOW_LOCALHOST:!1,IDPS_AUTH_URL:"https://csptoken.ccs.mcafee.com/auth/token",IDPS_BREACH_COUNT_URL:"https://identity.unifiedapis.mcafee.com/breach/v1/BreachCount",IDPS_CSP_CLIENT_ID:null,IDPS_IS_ENTITLED:!1,IDPS_PROVISION_ID:null,IDPS_LOGIN_DOMAIN:"https://protection.mcafee.com",UA_CLIENT:null,TYPOSQUATTING_MAX_CACHE:100,TYPOSQUATTING_EXPIRY:2592e6,typosquattingHandler:null,URL_DOWNLOAD_MAX_CACHE:100,URL_DOWNLOAD_EXPIRY:2592e6,WA_IMAGE_SECRET:null,apsUrlList:a.A_,apsAnimationTimeout:5e3,wpsRequestedSettings:new Set(["SMA_USER_TOGGLE","SEARCH_ANNOTATION_OPTION","SMA_ANNOTATION_OPTIONS"]),permittedContentTypes:["application/vnd.microsoft.portable-executable","application/octet-stream","application/x-msdos-program","application/x-msdownload","binary/octet-stream","application/x-msdownload"],SUPPORTED_WEBSITE_LIST:["protection.mcafee.com","protection-dev-roadhouse-int.dvqa.mcafee.com","protection-dev2-roadhouse-int.dvqa.mcafee.com","protection-qa-roadhouse-int.dvqa.mcafee.com"],mtiRequestor:null,htiServer:a.wS.HTI_SERVER,cspClientId:"e87c73de-b45e-4427-b590-5124401795b6",sailer:null,sailorConditionUrl:a.wS.SAILOR_CONDITION_URL,allTrackerUrl:a.wS.ALL_TRACKER_URL,antitrackData:new r.A,isAntitrackerExtInstalled:!1,sendDataToWpsFlag:!1,analyticsContentVersion:"1.0.1",htiReportHandler:null,mockingBirdHandler:null,featureFlagManager:null,featureFlagServer:a.wS.FEATURE_FLAG_URL}},4394:(e,t,n)=>{n.d(t,{nW:()=>_});var i=n(2966);class s{static PreprocessSecureSearchRegEx(e){return e.trim().split("\n")}static getBrowserSuffix(){const{CH:e,FF:t,EDGE:n}={CH:"_ch",FF:"_ff",IE:"_ie",EDGE:"_ed"},s={};return s[i.dZ.EDGE]=n,s[i.dZ.FIREFOX]=t,s[i.dZ.CHROME]=e,s[i.Kr.BROWSER_TYPE]}}const{SYSTEM:o,USER:a}={SYSTEM:0,USER:1},r=s.getBrowserSuffix(),_={DEV_MODE:{scope:o,name:"dev_mode",value:!1},AFF_ID:{scope:o,name:"*Affid",value:0},BINARY_VERSION:{scope:o,name:"version",value:null},EXTENSION_VERSION_CH:{scope:o,name:"ChromeExtVersion",value:"",writeOnly:!0},EXTENSION_VERSION_FF:{scope:o,name:"*FirefoxXPIVersion",value:"",writeOnly:!0},EXTENSION_VERSION_ED:{scope:o,name:"EdgeExtVersion",value:"",writeOnly:!0},BROWSER_TYPE:{scope:o,name:"browsertype",value:"",writeOnly:!0},USER_AGENT:{scope:o,name:"useragent",value:"",writeOnly:!0},SUGGESTION_URL:{scope:o,name:"suggestion_url",value:""},SCRIPT_GENERATED_DEFAULT_SS_URL:{scope:a,name:`SCRIPT_GENERATED_DEFAULT_SS_URL${r}`,value:""},SECURE_SEARCH_REGEXES:{scope:a,name:"SECURE_SEARCH_REGEXES",value:"",preprocess:s.PreprocessSecureSearchRegEx},SHOW_SEARCH_SETTINGS:{scope:o,name:"*ShowSearchSettings",value:!0},SECURE_SEARCH_TOAST_STAMP:{scope:a,name:`*SSDateStampShowedToast${r}`,value:0},SECURE_SEARCH_ANNOTATION_ONLY:{scope:o,name:"*OnlyShowAnnotationsOnSecureSearch",value:!0},SECURE_SEARCH_SHOW_ICONS:{scope:a,name:"*Icons",value:!0},SECURE_SEARCH_CHOICE:{scope:a,name:`*SSToastChoice${r}`,value:!1},SS_DEF:{scope:o,name:`*SS_DEF${r}`,value:0},ANNOTATIONS_CHOICE_EXPLICIT:{scope:o,name:`*AnnotationsChoiceExplicit${r}`,value:!1},CURRENT_SAO_IN_EXTENSION:{scope:a,name:`*CurrentSAOInExtension${r}`,value:""},FF_EXTENSION_LAST_TOAST_TIME:{scope:a,name:"ff_extension_last_toast_time",value:0,writeOnly:!0},FF_EXTENSION_TOAST_COUNT:{scope:a,name:"ff_extension_toast_count",value:0,writeOnly:!0},CHECKLIST_START_INGORE_DATE_AV:{scope:o,name:"startIgnoreDateAV",value:"",writeOnly:!0},CHECKLIST_START_IGNORE_DATE_FW:{scope:o,name:"startIgnoreDateFW",value:"",writeOnly:!0},CHECKLIST_IGNORE_DURACTION:{scope:o,name:"ignoreDuration",value:"14",writeOnly:!0},CHECKLIST_GRACE_PERIOD_AV:{scope:o,name:"fixGracePeriodStartDateAV",value:"",writeOnly:!0},CHECKLIST_GRACE_PERIOD_FW:{scope:o,name:"fixGracePeriodStartDateFW",value:"",writeOnly:!0},CHECKLIST_GRACE_PERIOD_DURATION:{scope:o,name:"fixGracePeriodDuration",value:"24",writeOnly:!0},CRYPTOJACKING_DISABLED:{scope:o,name:"CryptojackingDisabled",value:!0},SMA_USER_TOGGLE:{scope:o,name:`sma_user_toggle${r}`,value:!1,writeOnly:!0},SMA_ANNOTATION_OPTIONS:{scope:o,name:`sma_annotation_options${r}`,value:0,writeOnly:!0},PAGES_SCANNED:{scope:o,name:"*CounterPagesScanned",value:0},PAGES_BLOCKED:{scope:o,name:"*CounterPagesBlocked",value:0},DOWNLOADS_SCANNED:{scope:o,name:"*CounterDownloadsScanned",value:0},DOWNLOADS_BLOCKED:{scope:o,name:"*CounterDownloadsBlocked",value:0},BLOCKPAGE_WHITELIST:{scope:a,name:"*WhiteList",value:""},TS_WHITELIST:{scope:a,name:"*TListWhiteList",value:""},CSP_ID_SETTING:{scope:o,name:"CSPIdValue",value:"__not_available__"},MTI_CLIENT_ID:{scope:o,name:"gti_client_id",value:""},JWT_TOKEN_ENABLED:{scope:o,name:"jwt_token_enabled",value:!1},UNINSTALL_SURVEY_ENABLED:{scope:o,name:"uninstall_survey_enabled",value:!1},UNINSTALL_SURVEY_URL:{scope:o,name:"uninstall_survey_url",value:""},RAT_DETECTION_ENABLED:{scope:o,name:"rat_detection_enabled",value:!0},IDPS_FEATURE_ENABLED:{scope:o,name:"idps_feature_enabled",value:0},APS_COHORT:{scope:o,name:"aps_cohort",value:0},APS_TOGGLE_SETTING:{scope:o,name:"aps_toggle_setting",value:!0},ALT_TRIGGER:{scope:o,name:"alt_triggers_cohort",value:0},ANNOTATION_JOURNEY_COHORT:{scope:o,name:`annotation_journey_cohort${r}`,value:0},ANNOTATION_JOURNEY_TOAST:{scope:a,name:`aj_toast${r}`,value:null},DAILY_GREEN_URLS_TO_COLLECT:{scope:o,name:"daily_green_urls_to_collect",value:0},FEATURE_COLLECTION_ENABLED:{scope:o,name:"feature_collection_enabled",value:!1},DAILY_GREEN_URLS_RESET_RATE:{scope:o,name:"daily_green_urls_reset_rate",value:0},HERON_REPORT_ENABLED:{scope:o,name:"heron_report_enabled",value:!1},SAMPLING_RATE_BLOCK_DEFAULT:{scope:o,name:"sampling_rate_block_default",value:100},SAMPLING_RATE_USER_FEEDBACK:{scope:o,name:"sampling_rate_user_feedback",value:1},WA_EXTN_UUID:{scope:a,name:`wa_extn_uuid${r}`,value:"",writeOnly:!0},MOCKINGBIRD_ENABLED:{scope:o,name:"mockingbird_enabled",value:!0},TYPOSQUAT_ENABLED:{scope:o,name:"typosquat_enabled",value:!0},DFD_FEEDBACK_ENABLED:{scope:o,name:"dfd_feedback_enabled",value:!1}}},9808:(e,t,n)=>{n.d(t,{A:()=>E});var i=n(7339),s=n(1781);const o="PAGES_SCANNED",a="PAGES_BLOCKED",r="DOWNLOADS_SCANNED",_="DOWNLOADS_BLOCKED";class E{static init(){const e=this.read(),{PAGES_SCANNED:t,PAGES_BLOCKED:n,DOWNLOADS_SCANNED:o,DOWNLOADS_BLOCKED:a}=i.v.nativeSettings,r={pagesScanned:t.value||e.pagesScanned,pagesBlocked:n.value||e.pagesBlocked,downloadsScanned:o.value||e.downloadsScanned,downloadsBlocked:a.value||e.downloadsBlocked};i.v.localStore.set(s.q7.POPUP_STATS.name,r)}static add(e){const t=this.read();switch(e){case o:t.pagesScanned++;break;case a:t.pagesBlocked++;break;case r:t.downloadsScanned++;break;case _:t.downloadsBlocked++;break;default:return}i.v.localStore.set(s.q7.POPUP_STATS.name,t)}static read(){const e={pagesScanned:0,pagesBlocked:0,downloadsScanned:0,downloadsBlocked:0},t=i.v.localStore.get(s.q7.POPUP_STATS.name);return t&&Object.assign(e,t),e}}},4671:(e,t,n)=>{n.d(t,{A:()=>_});var i=n(9808),s=n(2966),o=n(7339),a=n(1781),r=n(827);class _{init(){o.v.wssMessageDispatcher?.nativeDispatcher?.getATUpsellFlag((e=>{e?.antitrack_upsell_config?.enabled&&o.v.scheduleManager.setEnabled(a.q7.ANTITRACKER_UPSELL_TASK.name,!0)}))}isActive(){return!o.v.isAntitrackerExtInstalled}isWhiteListed(e,t){return o.v.localStore.get(a.q7.ANTITRACKER_WHITELIST.name,["mcafee.com"]).some((t=>e.includes(t)))||t.includes("fi")}addCountTo(e,t=1){const n=o.v.localStore.get(e,0);o.v.localStore.set(e,n+t)}getAndResetCount(e){const t=o.v.localStore.get(e,0);return o.v.localStore.set(e,0),t}addLatestDomain(e,t){try{this.addCountTo(t);const n=new Date,i=`${n.getFullYear()}${n.getMonth()}${n.getDate()}`,s=new URL(e).hostname.replace("www.",""),r=this.getDomainList();r.dataDate!==i&&(r.dataDate=i,r.domainHistoryMap={}),r.lastVisited=s,r.domainHistoryMap=r.domainHistoryMap||{},(r.domainHistoryMap[s]||Object.keys(r.domainHistoryMap).length<50)&&(r.domainHistoryMap[s]=(r.domainHistoryMap[s]||0)+1),o.v.localStore.set(a.q7.TRACKER_DOMAIN_LIST.name,r)}catch(e){r.Ay.log(`[AntitrackerData] Error adding last domain: ${e.message||e}`)}}getDomainList(){const e=o.v.localStore.get(a.q7.TRACKER_DOMAIN_LIST.name,{});return JSON.parse(JSON.stringify(e))}updateWPS(e){try{e=e?JSON.parse(e):{};const{pagesBlocked:t=0,pagesScanned:n=0}=i.A.read();let r=0;Object.values(s.f).forEach((t=>{const n=t.toLowerCase(),i=(e[n]||0)+this.getAndResetCount(t);e[n]=i,r+=i})),e.total_trackers=r,e.blocked_pages=t,e.scanned_pages=n,e.last_visited="",e.domain_history="",0===e.total_trackers&&0===e.blocked_pages&&0===e.scanned_pages&&""===e.last_visited&&""===e.domain_history||!this.isSameAsLastScan(e)&&o.v.wssMessageDispatcher&&(o.v.wssMessageDispatcher.nativeDispatcher.updateAntitrackerToWPS(e),o.v.localStore.set(a.q7.LAST_ANTITRACKER_SCAN_RESULT.name,e))}catch(e){r.Ay.log(`[AntitrackerData] Error sending AT updates to WPS: ${e.message}`)}}getDomainHistory(e={}){let t="";const n=Object.keys(e);if(0===n.length)return t;n.sort(((t,n)=>e[n]-e[t]));for(let i=0;i<n.length&&i<5&&n[i];i++){const s=n[i];t+=`${s},${e[s]},`}return t.slice(0,-1)}isSameAsLastScan(e){const t=o.v.localStore.get(a.q7.LAST_ANTITRACKER_SCAN_RESULT.name,{}),n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}}},8903:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(7339),s=n(2966),o=n(7089),a=n(6796),r=n(827),_=n(3820),E=n(3467);class l{static async toHTICategoriesString(e,t=!1){const n=e=>new Promise((t=>{E.A.getResString(e,(e=>t(e)))})),i=async(e,t)=>{const i={},s=await n(`category_id_${e}_name`);if(i.name=s,t){const t=await n(`category_id_${e}_description`);i.description=t}return i},s=[];for(const n of e)s.push(i(n,t));return await Promise.all(s)}static browserTypeToString(e=!1){let t="";switch(s.Kr.BROWSER_TYPE){case 1:t="FF";break;case 2:t="CH";break;case 3:t="ED";break;case 4:t="SF";break;default:t="UN"}return e?t.toLowerCase():t}static toAnnotationImageClass(e){let t="";switch(l.toColor(e)){case s.Q1.GREEN:t="green";break;case s.Q1.RED:t="red";break;case s.Q1.YELLOW:t="yellow";break;case s.Q1.GREY:t="grey"}return t}static isPhishingURI(e){return e&&e.includes(o.wS.PHISHING_CATEGORY)}static toBlockState(e){const t=l.toColor(e);return t===s.Q1.YELLOW&&l.isPhishingURI(e.category)?s.Tm.PHISHING:isNaN(t)?s.Tm.GREY:t}static toColor(e){let t=s.Q1.UNKNOWN;return e&&void 0!==e.trust?(t=e.trust>=s.$p.GREEN?s.Q1.GREEN:e.trust>=s.$p.GREY?s.Q1.GREY:e.trust>=s.$p.YELLOW?s.Q1.YELLOW:e.trust>=s.$p.RED?s.Q1.RED:s.Q1.UNKNOWN,t):t}static toSiteReportUrl(e){return`${a.c.runtime.getURL("html/site_status_site_report.html")}?url=${escape(e)}`}static isExtensionUrl(e){return e.startsWith(s.hT)}static isAnyExtensionUrl(e){return e.startsWith(`${s.hT.split("://")[0]}://`)}static isSafeUrl(e){return l.isSiteAdvisorUrl(e)||l.isExtensionUrl(e)}static isSiteAdvisorUrl(e){return e.startsWith(`http://${o.wS.SITE_ADVISOR_URL}`)||e.startsWith(`https://${o.wS.SITE_ADVISOR_URL}`)}static isPropertRedirectUrl(e){return l.isPropertyWebURL(e)||e.startsWith("edge://")||e.startsWith("chrome://")}static isProperWebURL(e=""){return!!(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("ftp://"))}static getUINumber(e){if(e>=1e4)return"10k+";if(e>=1e3){let t=(e/1e3).toFixed(1);return t="0"===t.substring(2,3)?t.substring(0,1):t,`${t}k+`}return`${e}`}static hasEpochTimeElapsed(e,t){return(new Date).getTime()/1e3>e+t}static isPersonalPolicyEnabled(){return!0}static isActivityPolicyEnabled(){return!0}static async blockRequest(e,t,n){const i=await a.c.declarativeNetRequest.getDynamicRules();0===i.filter((e=>e.condition.urlFilter===t)).length&&l.addDynamicRule(e,t,n,i.length+1,0)}static async addDynamicRule(e,t,n,i,s){if(s>=10)r.Ay.error(`Unable to add dynamic rule for tabId:${e}, on url: ${t}. message: ${n}`);else try{await a.c.declarativeNetRequest.updateDynamicRules({addRules:[{id:i,condition:{urlFilter:t,resourceTypes:["main_frame"]},action:{type:"block"}}]}),r.Ay.log(`${n} ${t} ${e}`)}catch(o){l.addDynamicRule(e,t,n,i+1,s+1)}}static async updateExcludedTabInSession(e,t){try{const n=999999,i=(await a.c.declarativeNetRequest.getSessionRules()).find((e=>e.id===n));let s=i?.condition?.tabIds||[],o=!1;const r=s.indexOf(e);t===_.hU.ADD&&-1===r?(s.push(e),o=!0):t===_.hU.REMOVE&&-1!==r&&(s=s.filter((t=>t!==e)),o=!0),o&&a.c.declarativeNetRequest.updateSessionRules({removeRuleIds:[n],addRules:[{id:n,condition:{tabIds:s},action:{type:"allow"}}]})}catch(e){r.Ay.error(e.message)}}static updateHTIGlobalsAfterNativeConnection(){const e=i.v.nativeSettings.MTI_CLIENT_ID.value,t=i.v.nativeSettings.CSP_ID_SETTING.value,n=i.v.nativeSettings.JWT_TOKEN_ENABLED.value;""!==e&&i.v.mtiRequestor.setGlobals({clientIdGuid:e}),"__not_available__"!==t&&i.v.mtiRequestor.setGlobals({cspid:t}),"boolean"==typeof n&&i.v.mtiRequestor.setGlobals({jwtEnabled:n})}static newGuid(){const e=new Uint8Array(24);let t=Date.now().toString()+Math.random().toString().substring(2);for(let n=0;n<24;++n)t+=e[n].toString();let n="{";for(let e=0;e<36;++e)if(8===e||13===e||18===e||23===e)n+="-";else{n+=t[Math.floor(Math.random()*t.length)]}return n+="}",n}}},7089:(e,t,n)=>{n.d(t,{A_:()=>a,BS:()=>s,hZ:()=>o,wS:()=>i});const i={MAX_CACHE_RECORDS:1e3,MAX_RESERVED_CALLBACK_ID:5,PHISHING_CATEGORY:"ph",SITE_ADVISOR_URL:"www.siteadvisor.com/",TYPOSQUATTING_SERVER:"https://mip.api.mcafeewebadvisor.com/v1/typosquatting?",ENGINE_VERSION_URL:"https://sadownload.mcafee.com/products/SA/Win/extensions/engines/update.json",SAILOR_CONDITION_URL:"https://sadownload.mcafee.com/products/SA/Win/extensions/sailor/condition.json",ALL_TRACKER_URL:"https://sadownload.mcafee.com/products/SA/Win/extensions/antitracker/all_trackers.json",HTI_SERVER:"https://threat.api.mcafee.com/",WA_EXTN_CONDITION_URL:"https://sadownload.mcafee.com/products/SA/Win/extensions/waextension/condition.json",FEATURE_FLAG_URL:"https://sadownload.mcafee.com/products/SA/Win/extensions/waextension/featureflag",TYPOSQUAT_LIST:"https://sadownload.mcafee.com/products/SA/Win/extensions/waextension/typosquat.txt",TYPOSQUAT_VERSION:"https://sadownload.mcafee.com/products/SA/Win/extensions/waextension/typosquat_version.txt"},s=new Set(["www.mcafee.com"]),o=[{domain:"www.beamyourscreen.com",urls:[]},{domain:"www.connectwise.com",urls:["www.connectwise.com/platform/unified-management/control"]},{domain:"get.gotoassist.com",urls:[]},{domain:"fastsupport.gotoassist.com",urls:[]},{domain:"www.join.me",urls:[]},{domain:"www.mikogo.com",urls:[]},{domain:"www.mikogo.de",urls:[]},{domain:"www.securelink.com",urls:[]},{domain:"join.zoho.com",urls:[]}],a={shopping:{"www.amazon.com":{paths:["buy/payselect/handlers","buy/addressselect/handlers"]}},email:{"mail.google.com/mail":{selector:"div[role=main] a"},"outlook.live.com/mail":{selector:"div[role=main][aria-label] a"},"outlook.office.com/mail":{selector:"div[role=main][aria-label] a"},"outlook.office365.com/mail":{selector:"div[role=main][aria-label] a"},"mail.yahoo.com":{selector:"div[role=main] ul li a"}}}},1781:(e,t,n)=>{n.d(t,{fN:()=>_,q7:()=>r});var i=n(330),s=n(4924);const{NONE:o,...a}=i.Ds,r={BLOCK_PAGE_PHISHING_FIRST_VARIANT_COUNT:{name:"BLOCK_PAGE_PHISHING_FIRST_VARIANT_COUNT",type:"number"},BLOCK_PAGE_RED_FIRST_VARIANT_COUNT:{name:"BLOCK_PAGE_RED_FIRST_VARIANT_COUNT",type:"number"},BLOCK_PAGE_WHITELIST:{name:"BLOCK_PAGE_WHITELIST",type:"array"},BLOCK_PAGE_YELLOW_FIRST_VARIANT_COUNT:{name:"BLOCK_PAGE_YELLOW_FIRST_VARIANT_COUNT",type:"number"},ENGINE_DOWNLOAD_TASK:{name:"ENGINE_DOWNLOAD_TASK",type:"object"},ENGINES:{name:"ENGINES",type:"object"},ENGINES_FUTURE_TIME:{name:"ENGINES_FUTURE_TIME",type:"object"},ENGINES_VERSION:{name:"ENGINES_VERSION",type:"string"},EXTENSION_LOGGING:{name:"EXTENSION_LOGGING",options:[0,1,2,3,4],type:"number"},USE_NATIVE_LOGGER:{name:"USE_NATIVE_LOGGER",type:"boolean"},EXTN_UUID2:{name:"EXTN_UUID2",type:"string"},IFRAME_BLOCK_FIRST_TIME:{name:"IFRAME_BLOCK_FIRST_TIME",type:"boolean"},LAST_HEARTBEAT_SENT:{name:"LAST_HEARTBEAT_SENT",type:"object"},POPUP_STATS:{name:"POPUP_STATS",type:"object"},POST_INSTALLATION_PAGE_SHOWED:{name:"POST_INSTALLATION_PAGE_SHOWED",type:"object"},RAT_DETECTION_WHITELIST:{name:"RAT_DETECTION_WHITELIST",type:"array"},SEARCH_ANNOTATION_OPTION:{name:"SEARCH_ANNOTATION_OPTION",options:[...s.AK],type:"string"},SMA_ANNOTATION_OPTIONS:{name:"SMA_ANNOTATION_OPTIONS",options:{...a},type:"number"},SMA_USER_TOGGLE:{name:"SMA_USER_TOGGLE",type:"boolean"},TELEMETRY_HEARTBEAT_TASK:{name:"TELEMETRY_HEARTBEAT_TASK",type:"object"},CACHE_TYPOSQUATTING:{name:"CACHE_TYPOSQUATTING",type:"object"},USER_NATIVE_STATS:{name:"USER_NATIVE_STATS",type:"boolean"},WHITELIST_FLAG:{name:"WHITELIST_FLAG",type:"boolean"},DWS_INFO:{name:"DWS_INFO",type:"object"},DWS_WHITELIST:{name:"DWS_WHITELIST",type:"array"},DWS_UNIQUE_EMAILS:{name:"DWS_UNIQUE_EMAILS",type:"array"},APS_TOAST_FIRST_TIME:{name:"APS_TOAST_FIRST_TIME",type:"boolean"},APS_FULL_MSG_SHOWN_ARRAY:{name:"APS_FULL_MSG_SHOWN_ARRAY",type:"array"},FF_POLICY_PERSONAL_COLLECTION:{name:"FF_POLICY_PERSONAL_COLLECTION",type:"boolean"},FF_POLICY_ACTIVITY_COLLECTION:{name:"FF_POLICY_ACTIVITY_COLLECTION",type:"boolean"},FF_POLICY_PERMISSIONS_COLLECTION:{name:"FF_POLICY_PERMISSIONS_COLLECTION",type:"boolean"},FF_POLICY_LAST_SHOWN:{name:"FF_POLICY_LAST_SHOWN",type:"number"},FF_POLICY_LAST_SHOWN_VERSION:{name:"FF_POLICY_LAST_SHOWN_VERSION",type:"string"},WA_AFFID:{name:"WA_AFFID",type:"number"},APS_TOGGLE_SETTING:{name:"APS_TOGGLE_SETTING",type:"boolean"},AJ_TOAST:{name:"AJ_TOAST",type:"boolean"},AJ_APS_ENABLE:{name:"AJ_APS_ENABLE",type:"number"},URL_CONTENT_TYPE:{name:"URL_CONTENT_TYPE",type:"object"},CSP_TOKEN_HTI_REFRESH:{name:"CSP_TOKEN_HTI_REFRESH",type:"object"},FEATURE_COLLECTION_PAGE_COUNT:{name:"FEATURE_COLLECTION_PAGE_COUNT",type:"number"},RESET_FEATURE_COLLECTION_TASK:{name:"RESET_FEATURE_COLLECTION_TASK",type:"object"},BLOCK_FEATURE_COLLECTION_DOMAIN:{name:"BLOCK_FEATURE_COLLECTION_DOMAIN",type:"array"},UPDATE_ANTITRACKER_TASK:{name:"UPDATE_ANTITRACKER_TASK",type:"object"},ANTITRACKER_LIST_VERSION:{name:"ANTITRACKER_LIST_VERSION",type:"string"},ANTITRACKER_LIST:{name:"ANTITRACKER_LIST",type:"object"},LAST_ANTITRACKER_SCAN_RESULT:{name:"LAST_ANTITRACKER_SCAN_RESULT",type:"object"},ANTITRACKER_UPSELL_TASK:{name:"ANTITRACKER_UPSELL_TASK",type:"object"},FINGER_PRINT:{name:"FINGER_PRINT",type:"number"},FIRST_PARTY:{name:"FIRST_PARTY",type:"number"},THIRD_PARTY:{name:"THIRD_PARTY",type:"number"},TRACKER_DOMAIN_LIST:{name:"TRACKER_DOMAIN_LIST",type:"array"},ANTITRACKER_WHITELIST:{name:"ANTITRACKER_WHITELIST",type:"array"},IS_EDGE_EXT_PAGE_OPENED_BY_NATIVE:{name:"IS_EDGE_EXT_PAGE_OPENED_BY_NATIVE",type:"bool"},HTI_REPORT_SAMPLING_RATE_BLOCK_DEFAULT_COUNT:{name:"HTI_REPORT_SAMPLING_RATE_BLOCK_DEFAULT_COUNT",type:"number"},HTI_REPORT_SAMPLING_RATE_USER_FEEDBACK_COUNT:{name:"HTI_REPORT_SAMPLING_RATE_USER_FEEDBACK_COUNT",type:"number"},HTI_REPORT_BACKLOG:{name:"HTI_REPORT_BACKLOG",type:"object"},MOCK_QA_TEST_PRECONDITIONS:{name:"MOCK_QA_TEST_PRECONDITIONS",type:"object"},NO_NATIVE_TOAST_LAST_SHOWN_INFO:{name:"NO_NATIVE_TOAST_LAST_SHOWN_INFO",type:"object"},NO_NATIVE_TOAST_ONE_CHANCE_RUN:{name:"NO_NATIVE_TOAST_ONE_CHANCE_RUN",type:"bool"},NO_NATIVE_TOAST_NEW_ONE_CHANCE_ATTEMPTS:{name:"NO_NATIVE_TOAST_NEW_ONE_CHANCE_ATTEMPTS",type:"number"},NO_NATIVE_TOAST_SELECTED_GROUPID:{name:"NO_NATIVE_TOAST_SELECTED_GROUPID",type:"number"},NO_NATIVE_TOAST_STAGE1_VARIANT:{name:"NO_NATIVE_TOAST_STAGE1_VARIANT",type:"string"},NO_NATIVE_TOAST_STAGE2_VARIANT:{name:"NO_NATIVE_TOAST_STAGE2_VARIANT",type:"string"},MB_OPT_IN:{name:"MB_OPT_IN",type:"string"},MB_OPT_IN_DATETIME:{name:"MB_OPT_IN_DATETIME",type:"number"},MB_ACTIVATE_BANNER_LAST_SHOWN:{name:"MB_ACTIVATE_BANNER_LAST_SHOWN",type:"number"},MB_ACTIVATE_BANNER_SHOWN_COUNT:{name:"MB_ACTIVATE_BANNER_SHOWN_COUNT",type:"number"},MB_SNOOZE_BY_MIN:{name:"MB_SNOOZE_BY_MIN",type:"number"},MB_SNOOZE_UNTIL:{name:"MB_SNOOZE_UNTIL",type:"number"},MB_SNOOZE_UNTIL_TASK:{name:"MB_SNOOZE_UNTIL_TASK",type:"object"},MB_SECONDS_SCANNED_TASK:{name:"MB_SECONDS_SCANNED_TASK",type:"object"},MB_AI_MODEL_INFO:{name:"MB_AI_MODEL_INFO",type:"object"},MB_WPS_MODEL_INFO:{name:"MB_WPS_MODEL_INFO",type:"object"},MB_DOES_WPS_ALLOW_PERFORMANCE:{name:"MB_DOES_WPS_ALLOW_PERFORMANCE",type:"string"},WPS_VERSION:{name:"WPS_VERSION",type:"string"},TYPOSQUATTING_VERSION:{name:"TYPOSQUATTING_VERSION",type:"number"},TYPOSQUATTING_WHITELIST:{name:"TYPOSQUATTING_WHITELIST",type:"array"},TYPOSQUATTING_UPDATE_TASK:{name:"TYPOSQUATTING_UPDATE_TASK",type:"object"},DISABLED_FEATURES:{name:"DISABLED_FEATURES",type:"array"}},_={CACHE_TAB_DATA:{name:"CACHE_TAB_DATA",type:"object"},RAT_DETECTION_SHOWING:{name:"RAT_DETECTION_SHOWING",type:"object"},FORM_INFO:{name:"FORM_INFO",type:"object"},SAVE_MULTI_STEP_LOGIN:{name:"SAVE_MULTI_STEP_LOGIN",type:"object"},APS_EMAIL_LINKS:{name:"APS_EMAIL_LINKS",type:"array"},WSS_EMAIL:{name:"WSS_EMAIL",type:"string"},HTI_REDIRECTION_LOG:{name:"HTI_REDIRECTION_LOG",type:"object"},MB_STATUS:{name:"MB_STATUS",type:"object"},MB_VIDEOS_FLAGGED:{name:"MB_VIDEOS_FLAGGED",type:"number"},MB_SECONDS_SCANNED:{name:"MB_SECONDS_SCANNED",type:"number"},MB_SECONDS_FLAGGED:{name:"MB_SECONDS_FLAGGED",type:"number"},WPS_PLAN_TYPE:{name:"WPS_PLAN_TYPE",type:"string"},WPS_DAYS_TO_EXPIRE:{name:"WPS_DAYS_TO_EXPIRE",type:"number"}}},1457:(e,t,n)=>{n.d(t,{HG:()=>i,U7:()=>s,fI:()=>o});const i={LOCAL_STORE:"LOCAL_STORE",SESSION_STORE:"SESSION_STORE",CONTENT_HANDLER:"CONTENT_HANDLER",EXECUTE_COMMAND:"EXECUTE_COMMAND",FOCUS_OR_CREATE_TAB:"FOCUS_OR_CREATE_TAB",GET_BK_GLOBALS:"GET_BK_GLOBALS",GET_EXTENSION_STATUS:"GET_EXTENSION_STATUS",GET_TAB_DATA:"GET_TAB_DATA",TI_REQUEST:"TI_REQUEST",INSTALL_EXTENSION:"INSTALL_EXTENSION",REMOVE_TAB:"REMOVE_TAB",SEND_TELEMETRY:"SEND_TELEMETRY",SET_VIEWPORT:"SET_VIEWPORT",WHITELIST:"WHITELIST",RESET_NATIVE_SETTING:"RESET_NATIVE_SETTING",UPDATE_BK_NATIVE_SETTINGS:"UPDATE_BK_NATIVE_SETTINGS",GET_TAB_AND_FRAME_ID:"GET_TAB_AND_FRAME_ID",SHOW_SIDEBAR_MAIN:"SHOW_SIDEBAR_MAIN",GET_SIDEBAR_DATA:"GET_SIDEBAR_DATA",GET_SETTINGS_DATA:"GET_SETTINGS_DATA",RESET_SETTINGS:"RESET_SETTINGS",GET_UPDATED_SUBSCRIPTION_INFO:"GET_UPDATED_SUBSCRIPTION_INFO",AUTO_RUN_VIDEO_SITE:"AUTO_RUN_VIDEO_SITE",IS_FRAME_BLOCKED:"IS_FRAME_BLOCKED",IS_WHITELISTED:"IS_WHITELISTED",ANY_BLOCKED_IFRAMES:"ANY_BLOCKED_IFRAMES",UNBLOCK_ALL_IFRAMES:"UNBLOCK_ALL_IFRAMES",VIEW_SITE_REPORT:"VIEW_SITE_REPORT",SEARCH_ANNOTATION:"SEARCH_ANNOTATION",UPDATE_ENGINE_STATS:"UPDATE_ENGINE_STATS",SOCIAL_MEDIA_ANNOTATION:"SOCIAL_MEDIA_ANNOTATION",UPDATE_RAT_DETECTION_SHOWING_FLAG:"UPDATE_RAT_DETECTION_SHOWING_FLAG",SEARCH_SUGGEST:"SEARCH_SUGGEST",SAVE_FORM_INFO:"SAVE_FORM_INFO",GET_FORM_INFO_CACHE:"GET_FORM_INFO_CACHE",CLEAR_FORM_INFO_CACHE:"CLEAR_FORM_INFO_CACHE",SAVE_MULTISTEP_LOGIN:"SAVE_MULTISTEP_LOGIN",GET_FD_WEIGHTS:"GET_FD_WEIGHTS",GET_FD_EXCEPTIONS:"GET_FD_EXCEPTIONS",GET_FD_CRF_PARAMS:"GET_FD_CRF_PARAMS",CLEAR_CACHED_DWS_INFO:"CLEAR_DWS_INFO",GET_CACHED_DWS_INFO:"GET_CACHED_DWS_INFO",UPDATE_DWS_WHITELIST:"UPDATE_DWS_WHITELIST",LAUNCH_IDPS_LOGIN:"LAUNCH_IDPS_LOGIN",UPDATE_DWS_SHOWN:"UPDATE_DWS_SHOWN",GET_APS_DETAILS:"GET_APS_DETAILS",FORM_PRE_CHECK_PASSED:"FORM_PRE_CHECK_PASSED",SIGN_UP_FORM_DETECTED:"SIGN_UP_FORM_DETECTED",SET_FF_POLICY_COLLECTION:"SET_FF_POLICY_COLLECTION",SET_FF_POLICY_LAST_SHOWN:"SET_FF_POLICY_LAST_SHOWN",GET_FF_POLICY_LAST_SHOWN:"GET_FF_POLICY_LAST_SHOWN",FF_IFRAME_HELPER_INFO:"FF_IFRAME_HELPER_INFO",SET_REMEDIATION:"SET_REMEDIATION",FINGERPRINT_ATTEMPTED:"FINGERPRINT_ATTEMPTED",SET_NO_NATIVE_TOAST_COUNTERS:"SET_NO_NATIVE_TOAST_COUNTERS",SET_NO_NATIVE_TOAST_EVENTS:"SET_NO_NATIVE_TOAST_EVENTS",NO_NATIVE_TOAST_DOWNLOAD_NATIVE:"NO_NATIVE_TOAST_DOWNLOAD_NATIVE",GET_NO_NATIVE_TOAST_VARIANTS:"GET_NO_NATIVE_TOAST_VARIANTS",TELEMETRY:"TELEMETRY",MB_PROMPT_AND_STREAM:"MB_PROMPT_AND_STREAM",MB_START_BUY_FLOW:"MB_START_BUY_FLOW",MB_START_RENEW_FLOW:"MB_START_RENEW_FLOW",MB_TURN_ON:"MB_TURN_ON",MB_TURN_OFF:"MB_TURN_OFF",MB_SET_SNOOZE:"MB_SET_SNOOZE",MB_OPT_IN:"MB_OPT_IN",SHOW_MB_SIDEBAR:"SHOW_MB_SIDEBAR",SHOW_MB_FAQ:"SHOW_MB_FAQ",MB_VIDEO_FLAGGED:"MB_VIDEO_FLAGGED",SHOW_MB_ACTIVATE_BANNER:"SHOW_MB_ACTIVATE_BANNER",MB_GET_ACTIVATE_BANNER_SHOWN_COUNT:"MB_GET_ACTIVATE_BANNER_SHOWN_COUNT",MB_GET_SUBSCRIPTION_INFO:"MB_GET_SUBSCRIPTION_INFO",MB_PRE_CHECK_INJECTION:"MB_PRE_CHECK_INJECTION",MB_ON_CLOSE_SIDEBAR:"MB_ON_CLOSE_SIDEBAR",MB_SEND_FEEDBACK:"MB_SEND_FEEDBACK",MB_CHECK_REPORT:"MB_CHECK_REPORT"},s={UNBLOCK_IFRAME:"UNBLOCK_IFRAME",BALLOON_MESSAGE:"BALLOON_MESSAGE",SIDEBAR:"SIDEBAR",TOPBAR:"TOPBAR",DLS_POPUP:"DLS_POPUP",IS_SIDEBAR_OPENED:"IS_SIDEBAR_OPENED",PING_CONTENT_ANNOTATION:"PING_CONTENT_ANNOTATION",PING_CONTENT_RAT_DETECTION:"PING_CONTENT_RAT_DETECTION",PING_CONTENT_IFRAME_BANNER:"PING_CONTENT_IFRAME_BANNER",PING_CONTENT_AUTOPLAY_DETECTION:"PING_CONTENT_AUTOPLAY_DETECTION",PING_CONTENT_SIDEBAR_MAIN:"PING_CONTENT_SIDEBAR_MAIN",PING_CONTENT_IDPS:"PING_CONTENT_IDPS",PING_CONTENT_APS_TOAST:"PING_CONTENT_APS_TOAST",PING_CONTENT_APS_BALLOON:"PING_CONTENT_APS_BALLOON",PING_CONTENT_APS_OBSERVER:"PING_CONTENT_APS_OBSERVER",PING_CONTENT_SITE_LISTENER:"PING_CONTENT_SITE_LISTENER",PING_CONTENT_DLS_POPUP:"PING_CONTENT_DLS_POPUP",PING_CONTENT_NO_NATIVE_TOAST:"PING_CONTENT_NO_NATIVE_TOAST",PING_CONTENT_CHANGE_NATIVE_INSTALLER_URL:"PING_CONTENT_CHANGE_NATIVE_INSTALLER_URL",PING_CONTENT_MB_VIDEO_CHECK:"PING_CONTENT_MB_VIDEO_CHECK",PING_CONTENT_MB_ACTIVATE_BANNER:"PING_CONTENT_MB_ACTIVATE_BANNER",PING_CONTENT_MB_PAGE_BANNER:"PING_CONTENT_MB_PAGE_BANNER",PING_IFRAME_FORM_CHECK:"PING_IFRAME_FORM_CHECK",PING_IFRAME_FORM_DETECTION:"PING_IFRAME_FORM_DETECTION",PING_IFRAME_BLOCK:"PING_IFRAME_BLOCK",PING_IFRAME_HELPER:"PING_IFRAME_HELPER",PING_CONTENT_MB_BANNER:"PING_CONTENT_MB_BANNER",PING_CONTENT_MB_SIDEBAR:"PING_CONTENT_MB_SIDEBAR",MB_BANNER_SHOW:"MB_BANNER_SHOW",MB_BANNER_REMOVE:"MB_BANNER_REMOVE",MB_INITIAL_GRAPH_DATA:"MB_INITIAL_GRAPH_DATA",MB_INCOMING_AUDIO_DATA:"MB_INCOMING_AUDIO_DATA",BROADCAST_MB_UPDATE_UI:"BROADCAST_MB_UPDATE_UI",MB_RESET_GRAPH:"MB_RESET_GRAPH",APS_REGISTRATION_PAGE:"APS_REGISTRATION_PAGE",BROADCAST_TO_FOREGROUND:"BROADCAST_TO_FOREGROUND",TRIGGER_AJ_TOAST:"TRIGGER_AJ_TOAST"},o={ACTIVATE_BANNER:"ACTIVATE_BANNER",PAGE_BANNER:"PAGE_BANNER"}},2966:(e,t,n)=>{n.d(t,{$p:()=>l,Kr:()=>_,Q1:()=>E,Tm:()=>o,dZ:()=>a,f:()=>N,hT:()=>T,hz:()=>c,i9:()=>r,mD:()=>A});var i=n(1781),s=n(6796);const o={GREEN:0,YELLOW:1,RED:2,GREY:3,HACKERSAFE:4,TYPOSQUATTING:5,PHISHING:6,*[Symbol.iterator](){for(const e of Object.keys(this))"GREEN"!==e&&"GREY"!==e&&(yield this[e])}},a={UNKNOWN:-1,FIREFOX:1,CHROME:2,EDGE:3,SAFARI:4},r={WINDOWS:0,MAC_OS:1,ANDROID:2,IOS:3,CHROME_OS:4},_={BROWSER_TYPE:2,BROWSER_NAME:"chrome",DEBUG_MODE:!1,EXTENSION_VERSION:"8.1.0.5877",LOG_LEVEL:0,ENGINES_VERSION:"1.0.0.37",YEAR:2025,AUTO:!1},E={UNKNOWN:-1,GREEN:0,YELLOW:1,RED:2,GREY:3,HACKERSAFE:4,DISABLED:5},l=(E.GREEN,E.YELLOW,E.RED,E.GREY,E.DISABLED,E.GREEN,E.RED,E.YELLOW,E.GREY,{GREEN:70,GREY:31,YELLOW:16,RED:1,UNKNOWN:0}),c=(e,t)=>Array.from(Array(t+1).keys()).slice(e),T=s.c.runtime.getURL(""),N={fingerPrintDomains:i.q7.FINGER_PRINT.name,firstParty:i.q7.FIRST_PARTY.name,thirdPartyTrackers:i.q7.THIRD_PARTY.name},A={MB_VIDEO_KEY:"wa-mb",MB_VIDEO_VALUE:"wa_mb_video"}},2252:(e,t,n)=>{n.d(t,{L:()=>s});var i=n(3749);const s=(e,t={},n)=>(0,i.A)("WA",e,t,n)},330:(e,t,n)=>{n.d(t,{Ds:()=>i});const i={NONE:0,LINKEDIN:1,INSTAGRAM:2,YOUTUBE:4,FACEBOOK:8,TWITTER:16,REDDIT:32};Object.values(i).reduce(((e,t)=>e+t))},8791:(e,t,n)=>{n.d(t,{A:()=>o});var i=n(7339),s=n(1781);class o{static getResetValues(){return{blockedIframes:[],tabDomainTrusted:!1,mockingbird:{},mbVideoId:null}}static getDefaultValues(){return o.getResetValues()}reset(e){const t=i.v.localStore.get(s.fN.CACHE_TAB_DATA.name,{}),n=t[e]&&t[e].blockedIframes&&Object.keys(t[e].blockedIframes).length>0;i.v.htiReportHandler.checkBacklog(e,t[e],n),this.update(e,o.getResetValues())}get(e){return i.v.localStore.get(s.fN.CACHE_TAB_DATA.name,{})[e]||o.getDefaultValues()}set(e,t){const n=i.v.localStore.get(s.fN.CACHE_TAB_DATA.name,{});n[e]=t,i.v.localStore.set(s.fN.CACHE_TAB_DATA.name,n)}delete(e){const t=i.v.localStore.get(s.fN.CACHE_TAB_DATA.name,{}),n=t[e]&&t[e].blockedIframes&&Object.keys(t[e].blockedIframes).length>0;i.v.htiReportHandler.checkBacklog(e,t[e],n),delete t[e],i.v.localStore.set(s.fN.CACHE_TAB_DATA.name,t)}update(e,t){const n=this.get(e);this.set(e,{...n,...t})}setTabBlockPageData(e,t,n=!0){const s={...this.get(e),blockPageData:t};this.set(e,s),n&&!t.url.includes("chrome://extensions/")&&i.v.htiReportHandler.addReportToBacklog(e,s)}addBlockedFrame(e,t){const n=this.get(e);n.blockedIframes.push(t),this.update(e,n),i.v.htiReportHandler.addIFrameReportToBacklog(e,n)}getBlockedFrames(e){return this.get(e).blockedIframes}resetBlockedFrames(e){const t=this.get(e);t.blockedIframes=[],this.update(e,t)}}},6796:(e,t,n)=>{n.d(t,{c:()=>i});const i=chrome},3820:(e,t,n)=>{n.d(t,{hU:()=>s});var i=n(1781);i.q7.BLOCK_PAGE_WHITELIST.name,i.q7.TYPOSQUATTING_WHITELIST.name,i.q7.BLOCK_PAGE_WHITELIST.name,i.q7.RAT_DETECTION_WHITELIST.name;const s={ADD:"ADD",GET:"GET",REMOVE:"REMOVE",CLEAR:"CLEAR"}},2396:(e,t,n)=>{n.d(t,{G4:()=>r,IJ:()=>a,PO:()=>O,TA:()=>s,f7:()=>o,nX:()=>m,tz:()=>u});var i=n(2966);const s={WHITELIST:"whitelist",PREFERENCE:"preference",STATISTICS:"statistics",ABOUT:"about"},o={BLOCK_PAGE:"Block_Page",BROWSER_ACTION_CLICKED:"BrowserAction_Clicked",BROWSER_NAVIGATE:"Browser_Navigate",DARK_WEB_SCAN:"DarkWebMonitoring",PROFILE_INFO:"ProfileInfo",REMOTE_ACCESS_TROJAN:"RemoteAccessTrojan",SEARCH_SUGGEST:"SearchSuggest",SECURE_SEARCH_HIT:"Secure_Search_Hit",SIDEBAR_PANEL:"SideBar_Panel",SITE_REPORT:"wa_site_report_impression",SMA_REPUTATION:"SMA_Reputation",TYPOSQUATTING:"Typosquatting",WSS_ANALYTICS:"WSS_Analytics",APS:{EVENT_NAME:"AdvancedProtectionSignals",IMPRESSION_BALLOON:"IMPRESSION_BALLOON",IMPRESSION_HOVER:"IMPRESSION_HOVER",CLOSE_BALLOON:"CLOSE_BALLOON",TOAST_CLOSE:"TOAST_CLOSE",TOAST:"toast",BALLOON:"balloon"}},a={BROWSER_ACTION_CLICKED:"BrowserActionClicked",TYPOSQUATTING:"Typosquatting",BLOCK_PAGE:"BlockPage",SECURE_SEARCH_HIT:"SecureSearchHit",SIDEBAR_PANEL:"SideBarPanel",SMA_REPUTATION:"SMAReputation"},r={IMPRESSION:"Impression",WEBADVISOR:"WebAdvisor",SIDEBAR_PANEL:{MAIN:"Main"},SELECTION:"Selection",DISMISSED:"Dismissed",HOVERED:"Hovered",CLOSE_CLICKED:"CloseClicked",CLICKED:"Clicked",ENABLE:"Enable",ADD:"Add",RAT_DETECTION:{ACKNOWLEDGED:"Acknowledged",WHITELISTED:"Whitelisted"},ACCEPTED:"Accepted",ACCEPTRISK:"AcceptRisk",DECLINED:"Declined",ACKNOWLEDGED:"Acknowledged",CLOSE:"Close",NEXT:"Next",GOT_IT:"GotIt",HOVER:"Hover"},_="About",E="Preferences",l="Whitelist",c="UserStatistics",T="Green",N="Yellow",A="Red",d="Grey",S="UNKNOWN",p="Typosquatting",I="Phishing",m={DEFAULT:"DefaultSearch"},u={ACTION:{CLICK:"click",KEYDOWN:"keydown",RETURN_KEY_CODE:13,SHOW:"show",SEARCH_SUGGEST_KEY_CODES:[8,32,46,...(0,i.hz)(48,57),...(0,i.hz)(65,90),...(0,i.hz)(96,107),...(0,i.hz)(109,111),...(0,i.hz)(186,192),...(0,i.hz)(219,222)]},MISC:{LOADED:"Loaded",CHECKED:"checked",UNKNOWN:"UNKNOWN",ACTION_PANEL:"ActionPanel",ACCEPTED:"Accepted",DECLINED:"Declined",SETTINGS_TAB_PREFIX:"settings_tab_",GREEN:"GREEN",YELLOW:"YELLOW",RED:"RED",PREFERENCE:"Preference",DEFAULT:"default"},SEARCH_ENGINE:{GOOGLE:"google",YAHOO:"yahoo"},SOCIAL_MEDIA:{LINKEDIN:"linkedin",FACEBOOK:"facebook",YOUTUBE:"youtube",INSTAGRAM:"instagram",REDDIT:"reddit",TWITTER:"twitter"}};class O{static toTelemetryBlockState(e){let t=S;switch(e){case i.Tm.GREEN:t=T;break;case i.Tm.YELLOW:t=N;break;case i.Tm.RED:t=A;break;case i.Tm.GREY:t=d;break;case i.Tm.TYPOSQUATTING:t=p;break;case i.Tm.PHISHING:t=I}return t}static toTelemetrySettingTab(e){let t=E;switch(e){case s.WHITELIST:t=l;break;case s.STATISTICS:t=c;break;case s.ABOUT:t=_}return t}}},1728:(e,t,n)=>{n.d(t,{D8:()=>a,HZ:()=>r,MN:()=>o,N8:()=>l,oo:()=>T,qq:()=>c});var i=n(3103);const s="unknown",o={DFD:{EVENT_NAME:"wa_deepfake_detection",EVENT_ID:"wa_deepfake_detection"}},a={SCREEN:"screen",EVENT:"event"},r={AUDIO_DETECTED:"ai_audio_detected",AUDIO_NOT_DETECTED:"ai_audio_not_detected"},_="no_suite",E="unable_read_csp_id",l={IMPRESSION:"impression",ACCEPTED:"accepted",FAQ_CLICKED:"faq_request",CLOSED:"closed",FADE_AWAY:"fades_away",EXPAND:"expand",SNOOZED:"snoozed",TOGGLE_ON:"toggle_on",TOGGLE_OFF:"toggle_off",BACK_TO_ENTRY:"back_to_entry",FAQ_SUPPORT_CLICKED:"support_request",BACK_TO_DFD_PANEL:"back_to_deepfake_side_panel"},c={SCREEN_NAME:{ACTIVATION_ENROLLMENT_BANNER:"wa_deepfake_activation_enrollment_banner",ACTIVATION_ENROLLMENT_BANNER_SUCCESS:"wa_deepfake_activation_success",AI_ANNOTATION_BANNER:"wa_deepfake_banner_annotation",SIDEBAR_PANEL:"wa_deepfake_side_panel",SIDEBAR_FAQ_PANEL:"wa_deepfake_faq"},DISPLAY_TYPE:{EMBEDED_BANNER:"embedded",PAGE_BANNER:"page",AI_ANNO_FULL_BANNER:"banner_only",AI_ANNO_HOVER_BANNER:"icon_and_banner_on_hover",AI_ANNO_ICON_BANNER:"icon_only"},TRIGGER:{AUDIO_PLAYING:"audio_playing",X_CLICKED:"x_clicked",ACTIVATE_BTN_CLICKED:"activate_button_clicked",ACTIVATION_LEARM_MORE_CLICKED:"learn_more_clicked",ACTIVATION_ACCEPT:"deepfake_activation_accepted",ANNO_BANNER_CLICKED:"banner_clicked",ANNO_BANNER_FADE_AWAY:"time_elapsed",ANNO_BANNER_HOVER:"banner_hover",ANNO_BANNER_CLICKED_FOR_SIDEBAR:"deepfake_banner_annotation_clicked",MAIN_SIDEBAR_DFD_CLICKED:"sidebar_panel_deepfake_icon_clicked",FAQ_PANEL_BACK_CLICKED:"back_from_faq_clicked",SNOOZE_OPTION_SELECTED:"snooze_option_selected",AUDIO_DETECTION_TOGGLE_BTN_CLICKED:"audio_detection_toggle_switched",DFD_PANEL_BACK_CLICKED:"back_button_clicked",DFD_PANEL_BASICS_BTN_CLICKED:"deepfake_basics_button_clicked",DFD_PANEL_BUY_BTN_CLICK:"buy_now_button_clicked",DFD_PANEL_ON_TRIAL_BUY_BTN_CLICK:"buy_now_on_trial_clicked",DFD_FAQ_PANEL_SUPPORT_BTN_CLICKED:"contact_support_link_clicked",DFD_FAQ_PANEL_BACK_CLICKED:"back_button_clicked"},ACTION:{NO_ACTION:"no_action",WA_INTERACTION:"wa_interaction"},AUDIO_GRAPH_STATUS:{GENERIC_ERR:"generic_error",NO_AUDIO_PLAYING:"no_audio_playing",NO_VIDEO_PLAYING:"no_video_playing",DETECTION_OFF:"detection_off",NOTIFICATION_PAUSE:"notification_paused",GRAPH_DISPLAYED:"graph_displayed"}};class T{static toTlmWpsCspClientId(e){let t=e;return null===t?t=_:void 0===t&&(t=E),t}static toTlmAudioGraphStatus(e,t){let n=c.AUDIO_GRAPH_STATUS.NOTIFICATION_PAUSE;if(t)return n;if(n=c.AUDIO_GRAPH_STATUS.GENERIC_ERR,!e)return n;switch(e){case i.B.NO_VIDEO_PLAYING:n=c.AUDIO_GRAPH_STATUS.NO_VIDEO_PLAYING;break;case i.B.NO_AUDIO_PLAYING:n=c.AUDIO_GRAPH_STATUS.NO_AUDIO_PLAYING;break;case i.B.FEATURE_OFF:n=c.AUDIO_GRAPH_STATUS.DETECTION_OFF;break;case i.B.DISPLAYED:n=c.AUDIO_GRAPH_STATUS.GRAPH_DISPLAYED}return n}static toTlmActivatedDays(e){let t=s;if(e<=0)return t;const n=Date.now()-e;return t=Math.ceil(n/864e5),t}}},9866:(e,t,n)=>{n.d(t,{A:()=>E});var i=n(2396),s=n(3751),o=n(7339),a=n(2252),r=n(1457),_=n(6511);class E{static sendTelemetryMessages(e,t){const{sendTelemetry:n}=t.trigger,s=t.trigger.action,E=[i.tz.ACTION.CLICK];if(t.trigger.selector&&t.trigger.action)if(e.containerMeta){const n=e.containerMeta.query(t.trigger.selector);n&&n.addEventListener(t.trigger.action,l)}else(0,_.If)((()=>{const e=document.querySelector(t.trigger.selector);e&&e.addEventListener(t.trigger.action,l)}));else(n||t.trigger.state&&t.trigger.state===e.state)&&l();function l(_){t.messages.forEach((t=>{const l={...t.template},c=n&&(void 0===l.count||0!==l.count);let T=E.includes(s);if(s===i.tz.ACTION.KEYDOWN&&e.whitelistedKeys){const t=_.keyCode;T=e.whitelistedKeys.includes(t)}(c||T)&&(e.isFromBackground?o.v.messageDispatcher.sendTelemetry(JSON.stringify(l)):(0,a.L)(r.HG.SEND_TELEMETRY,{telemetry:JSON.stringify(l)}))}))}}static handle(e){new s.x(e).fetchTelemetryHandlers(e.identifier).forEach((t=>{this.sendTelemetryMessages(e,t)}))}}},3751:(e,t,n)=>{n.d(t,{x:()=>a});var i=n(2396),s=n(1728),o=n(8903);class a{constructor(e){this._options=e,this.TELEMETRY_HANDLERS=this.initializeTelemetryHandler()}fetchTelemetryHandlers(e){const t=[];return this.TELEMETRY_HANDLERS.forEach((n=>{n.trigger.identifier&&e!==n.trigger.identifier||t.push(n)})),t}initializeTelemetryHandler(){return[{trigger:{identifier:i.f7.BLOCK_PAGE,sendTelemetry:this._options.isFromBackground||!1},messages:[{template:{analyticsSDK:!0,name:i.IJ.BLOCK_PAGE,interaction_type:i.G4.IMPRESSION,colour:i.PO.toTelemetryBlockState(this._options.colour),level:this._options.level,style:"UNKNOWN",_event_name:i.f7.BLOCK_PAGE,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.BLOCK_PAGE,sendTelemetry:this._options.isFromForeground||!1},messages:[{template:{analyticsSDK:!0,name:i.IJ.BLOCK_PAGE,interaction_type:i.G4.ACCEPTRISK,colour:i.PO.toTelemetryBlockState(this._options.colour),level:this._options.level,style:"UNKNOWN",_event_name:i.f7.BLOCK_PAGE,browser:o.A.browserTypeToString(),metadata:`url=${this._options.url}`}}]},{trigger:{identifier:i.f7.BLOCK_PAGE,selector:"#sidebar-close",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.IJ.BLOCK_PAGE,interaction_type:i.G4.CLOSE_CLICKED,colour:i.PO.toTelemetryBlockState(this._options.colour),level:this._options.level,style:"UNKNOWN",_event_name:i.f7.BLOCK_PAGE,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.BROWSER_ACTION_CLICKED,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,name:i.IJ.BROWSER_ACTION_CLICKED,interaction_type:i.G4.WEBADVISOR,badge_count:this._options.count,_event_name:i.f7.BROWSER_ACTION_CLICKED,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.BROWSER_NAVIGATE,sendTelemetry:this._options.isFromBackground},messages:[{template:{analyticsSDK:!0,url:this._options.url,browser:o.A.browserTypeToString(),_event_name:i.f7.BROWSER_NAVIGATE}}]},{trigger:{identifier:i.f7.PROFILE_INFO,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,name:i.f7.PROFILE_INFO,interaction_type:i.G4.IMPRESSION,tab:i.PO.toTelemetrySettingTab(i.TA.PREFERENCE),_event_name:i.f7.PROFILE_INFO,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.PROFILE_INFO,selector:`#${i.tz.MISC.SETTINGS_TAB_PREFIX}${i.TA.PREFERENCE}`,action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.f7.PROFILE_INFO,interaction_type:i.G4.IMPRESSION,tab:i.PO.toTelemetrySettingTab(i.TA.PREFERENCE),_event_name:i.f7.PROFILE_INFO,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.PROFILE_INFO,selector:`#${i.tz.MISC.SETTINGS_TAB_PREFIX}${i.TA.WHITELIST}`,action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.f7.PROFILE_INFO,interaction_type:i.G4.IMPRESSION,tab:i.PO.toTelemetrySettingTab(i.TA.WHITELIST),_event_name:i.f7.PROFILE_INFO,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.PROFILE_INFO,selector:`#${i.tz.MISC.SETTINGS_TAB_PREFIX}${i.TA.ABOUT}`,action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.f7.PROFILE_INFO,interaction_type:i.G4.IMPRESSION,tab:i.PO.toTelemetrySettingTab(i.TA.ABOUT),_event_name:i.f7.PROFILE_INFO,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.PROFILE_INFO,selector:`#${i.tz.MISC.SETTINGS_TAB_PREFIX}${i.TA.STATISTICS}`,action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.f7.PROFILE_INFO,interaction_type:i.G4.IMPRESSION,tab:i.PO.toTelemetrySettingTab(i.TA.STATISTICS),_event_name:i.f7.PROFILE_INFO,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.SECURE_SEARCH_HIT,sendTelemetry:!0},messages:[{template:{name:i.IJ.SECURE_SEARCH_HIT,search_type:i.nX.DEFAULT,_event_name:i.f7.SECURE_SEARCH_HIT,browser:o.A.browserTypeToString(),type_tag:this._options.typeTag,provider_type:this._options.engineName}}]},{trigger:{identifier:i.f7.SIDEBAR_PANEL,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,name:i.IJ.SIDEBAR_PANEL,interaction_type:i.G4.SIDEBAR_PANEL.MAIN,_event_name:i.f7.SIDEBAR_PANEL,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.SITE_REPORT,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,name:i.f7.SITE_REPORT,block_state:i.PO.toTelemetryBlockState(this._options.blockState),site_categories:this._options.siteCategories,url:this._options.displayUrl,_event_name:i.f7.SITE_REPORT,browser:o.A.browserTypeToString()}}]},{trigger:{identifier:i.f7.SMA_REPUTATION,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,name:i.IJ.SMA_REPUTATION,interaction_type:i.G4.IMPRESSION,_event_name:i.f7.SMA_REPUTATION,browser:o.A.browserTypeToString(),site:this._options.site,color:i.tz.MISC.GREEN,count:this._options[i.tz.MISC.GREEN]}},{template:{analyticsSDK:!0,name:i.IJ.SMA_REPUTATION,interaction_type:i.G4.IMPRESSION,_event_name:i.f7.SMA_REPUTATION,browser:o.A.browserTypeToString(),site:this._options.site,color:i.tz.MISC.RED,count:this._options[i.tz.MISC.RED]}},{template:{analyticsSDK:!0,name:i.IJ.SMA_REPUTATION,interaction_type:i.G4.IMPRESSION,_event_name:i.f7.SMA_REPUTATION,browser:o.A.browserTypeToString(),site:this._options.site,color:i.tz.MISC.YELLOW,count:this._options[i.tz.MISC.YELLOW]}},{template:{analyticsSDK:!0,name:i.IJ.SMA_REPUTATION,interaction_type:i.G4.IMPRESSION,_event_name:i.f7.SMA_REPUTATION,browser:o.A.browserTypeToString(),site:this._options.site,color:i.tz.MISC.UNKNOWN,count:this._options[i.tz.MISC.UNKNOWN]}}]},{trigger:{identifier:i.f7.TYPOSQUATTING,sendTelemetry:this._options.isFromBackground},messages:[{template:{analyticsSDK:!0,name:i.IJ.TYPOSQUATTING,interaction_type:i.G4.IMPRESSION,browser:o.A.browserTypeToString(),_event_name:i.f7.TYPOSQUATTING}}]},{trigger:{identifier:i.f7.REMOTE_ACCESS_TROJAN,state:i.tz.MISC.LOADED,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,name:i.f7.REMOTE_ACCESS_TROJAN,interaction_type:i.G4.IMPRESSION,browser:o.A.browserTypeToString(!0),url:this._options.url,_event_name:i.f7.REMOTE_ACCESS_TROJAN}}]},{trigger:{identifier:i.f7.REMOTE_ACCESS_TROJAN,selector:"#rat_detection_got_it_btn",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.f7.REMOTE_ACCESS_TROJAN,interaction_type:i.G4.RAT_DETECTION.ACKNOWLEDGED,browser:o.A.browserTypeToString(!0),url:this._options.url,_event_name:i.f7.REMOTE_ACCESS_TROJAN}}]},{trigger:{identifier:i.f7.REMOTE_ACCESS_TROJAN,selector:"#sidebar_rat_detection_whitelist_btn",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.f7.REMOTE_ACCESS_TROJAN,interaction_type:i.G4.RAT_DETECTION.WHITELISTED,browser:o.A.browserTypeToString(!0),url:this._options.url,_event_name:i.f7.REMOTE_ACCESS_TROJAN}}]},{trigger:{identifier:i.f7.REMOTE_ACCESS_TROJAN,selector:"#sidebar-close",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,name:i.f7.REMOTE_ACCESS_TROJAN,interaction_type:i.G4.CLOSE_CLICKED,browser:o.A.browserTypeToString(!0),url:this._options.url,_event_name:i.f7.REMOTE_ACCESS_TROJAN}}]},{trigger:{identifier:i.f7.WSS_ANALYTICS,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,_event_name:i.f7.WSS_ANALYTICS,message:this._options.message}}]},{trigger:{identifier:i.f7.DARK_WEB_SCAN,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,_event_name:i.f7.DARK_WEB_SCAN,category:i.f7.DARK_WEB_SCAN,action_type:this._options.eventAction||i.tz.MISC.UNKNOWN,browser:"un"===o.A.browserTypeToString(!0)?i.tz.MISC.UNKNOWN:o.A.browserTypeToString(!0),count:this._options.count||i.tz.MISC.UNKNOWN,type:this._options.type,flow_id:this._options.flowId}}]},{trigger:{identifier:i.f7.APS.EVENT_NAME,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,_event_name:i.f7.APS.EVENT_NAME,name:i.f7.APS.EVENT_NAME,action_type:i.G4.IMPRESSION,browser:o.A.browserTypeToString(!0),type:i.f7.APS.TOAST,sequence:i.tz.MISC.DEFAULT,trigger:i.tz.MISC.DEFAULT,color:i.tz.MISC.DEFAULT}}]},{trigger:{identifier:i.f7.APS.IMPRESSION_BALLOON,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,_event_name:i.f7.APS.EVENT_NAME,name:i.f7.APS.EVENT_NAME,action_type:i.G4.IMPRESSION,browser:"un"===o.A.browserTypeToString(!0)?i.tz.MISC.UNKNOWN:o.A.browserTypeToString(!0),type:i.f7.APS.BALLOON,sequence:this._options.sequence,trigger:this._options.trigger,color:this._options.color}}]},{trigger:{identifier:i.f7.APS.IMPRESSION_HOVER,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,_event_name:i.f7.APS.EVENT_NAME,name:i.f7.APS.EVENT_NAME,action_type:i.G4.HOVER,browser:"un"===o.A.browserTypeToString(!0)?i.tz.MISC.UNKNOWN:o.A.browserTypeToString(!0),type:i.f7.APS.BALLOON,sequence:this._options.sequence,trigger:this._options.trigger,color:this._options.color}}]},{trigger:{identifier:i.f7.APS.CLOSE_BALLOON,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,_event_name:i.f7.APS.EVENT_NAME,name:i.f7.APS.EVENT_NAME,action_type:i.G4.CLOSE,browser:"un"===o.A.browserTypeToString(!0)?i.tz.MISC.UNKNOWN:o.A.browserTypeToString(!0),type:i.f7.APS.BALLOON,sequence:this._options.sequence,trigger:this._options.trigger,color:this._options.color}}]},{trigger:{identifier:i.f7.APS.TOAST_CLOSE,sendTelemetry:!0},messages:[{template:{analyticsSDK:!0,_event_name:i.f7.APS.EVENT_NAME,name:i.f7.APS.EVENT_NAME,action_type:this._options.gotItButton?i.G4.GOT_IT:i.G4.CLOSE,browser:"un"===o.A.browserTypeToString(!0)?i.tz.MISC.UNKNOWN:o.A.browserTypeToString(!0),type:i.f7.APS.TOAST,sequence:i.tz.MISC.DEFAULT,trigger:i.tz.MISC.DEFAULT,color:i.tz.MISC.DEFAULT}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:this._options.isFromActivationPage||!1},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.SCREEN,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER,trigger:s.qq.TRIGGER.AUDIO_PLAYING,action:s.qq.ACTION.NO_ACTION,is_interactive:!1,browser:o.A.browserTypeToString(!0),interaction:s.N8.IMPRESSION,display_type:this._options.displayType,message_sequence:this._options.msgSequence,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:"#mb_banner_activate_button",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER,trigger:s.qq.TRIGGER.ACTIVATE_BTN_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.ACCEPTED,display_type:this._options.displayType,message_sequence:this._options.msgSequence,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:"#mb_banner_learn_more",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER,trigger:s.qq.TRIGGER.ACTIVATION_LEARM_MORE_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.FAQ_CLICKED,display_type:this._options.displayType,message_sequence:this._options.msgSequence,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:"#close_button",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:this._options.screenName,trigger:s.qq.TRIGGER.X_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.CLOSED,display_type:this._options.displayType,message_sequence:this._options.msgSequence,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:this._options.isFromSuccessPage||!1},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.SCREEN,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER_SUCCESS,trigger:s.qq.TRIGGER.ACTIVATION_ACCEPT,action:s.qq.ACTION.NO_ACTION,is_interactive:!1,browser:o.A.browserTypeToString(!0),interaction:s.N8.IMPRESSION,display_type:this._options.displayType,message_sequence:this._options.msgSequence,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"videoBannerShow"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.SCREEN,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.AI_ANNOTATION_BANNER,trigger:s.qq.TRIGGER.AUDIO_PLAYING,action:s.qq.ACTION.NO_ACTION,is_interactive:!1,browser:o.A.browserTypeToString(!0),interaction:s.N8.IMPRESSION,display_type:this._options.displayType,detection_status:this._options.aiAnnoType,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:this._options.bannerNodeSelector||"",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.AI_ANNOTATION_BANNER,trigger:s.qq.TRIGGER.ANNO_BANNER_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.ACCEPTED,display_type:this._options.displayType,detection_status:this._options.aiAnnoType,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:this._options.videoBannercloseBtn||"",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.AI_ANNOTATION_BANNER,trigger:s.qq.TRIGGER.X_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.CLOSED,display_type:this._options.displayType,detection_status:this._options.aiAnnoType,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"videoBannerHover"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.SCREEN,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.AI_ANNOTATION_BANNER,trigger:s.qq.TRIGGER.ANNO_BANNER_HOVER,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.EXPAND,display_type:s.qq.DISPLAY_TYPE.AI_ANNO_HOVER_BANNER,detection_status:this._options.aiAnnoType,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"videoBannerFadeAway"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.AI_ANNOTATION_BANNER,trigger:s.qq.TRIGGER.ANNO_BANNER_FADE_AWAY,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.FADE_AWAY,display_type:this._options.displayType,detection_status:s.HZ.AUDIO_NOT_DETECTED,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"dfdSidebarShow"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.SCREEN,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_PANEL,trigger:this._options.initTriggerType,action:s.qq.ACTION.NO_ACTION,is_interactive:!1,browser:o.A.browserTypeToString(!0),interaction:s.N8.IMPRESSION,audio_detection_state:this._options.audioDetectionState,time_scanned_minutes:this._options.scannedMinutes,time_flagged_minutes:this._options.flaggedMinutes,deepfake_detected_count:this._options.fakeDetectedCount,snooze_duration:this._options.snoozeDuration,is_trial:this._options.isTrial,days_to_expire:this._options.daysToExpire,graph_error_status:this._options.audioGraphStatus,number_of_days:this._options.totalActivatedDays,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"snoozeOptionSelected"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_PANEL,trigger:s.qq.TRIGGER.SNOOZE_OPTION_SELECTED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.SNOOZED,audio_detection_state:this._options.audioDetectionState,time_scanned_minutes:this._options.scannedMinutes,time_flagged_minutes:this._options.flaggedMinutes,deepfake_detected_count:this._options.fakeDetectedCount,snooze_duration:this._options.snoozeDuration,is_trial:this._options.isTrial,days_to_expire:this._options.daysToExpire,graph_error_status:this._options.audioGraphStatus,number_of_days:this._options.totalActivatedDays,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:this._options.buyNowBtn||"",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_PANEL,trigger:this._options.buyNowBtnClickedType,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.ACCEPTED,audio_detection_state:this._options.audioDetectionState,time_scanned_minutes:this._options.scannedMinutes,time_flagged_minutes:this._options.flaggedMinutes,deepfake_detected_count:this._options.fakeDetectedCount,snooze_duration:this._options.snoozeDuration,is_trial:this._options.isTrial,days_to_expire:this._options.daysToExpire,graph_error_status:this._options.audioGraphStatus,number_of_days:this._options.totalActivatedDays,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"dfdPanelCloseClicked"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_PANEL,trigger:s.qq.TRIGGER.X_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.CLOSED,audio_detection_state:this._options.audioDetectionState,time_scanned_minutes:this._options.scannedMinutes,time_flagged_minutes:this._options.flaggedMinutes,deepfake_detected_count:this._options.fakeDetectedCount,snooze_duration:this._options.snoozeDuration,is_trial:this._options.isTrial,days_to_expire:this._options.daysToExpire,graph_error_status:this._options.audioGraphStatus,number_of_days:this._options.totalActivatedDays,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"dfdToggleBtnClicked"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_PANEL,trigger:s.qq.TRIGGER.AUDIO_DETECTION_TOGGLE_BTN_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:this._options.toggleType,audio_detection_state:this._options.audioDetectionState,time_scanned_minutes:this._options.scannedMinutes,time_flagged_minutes:this._options.flaggedMinutes,deepfake_detected_count:this._options.fakeDetectedCount,snooze_duration:this._options.snoozeDuration,is_trial:this._options.isTrial,days_to_expire:this._options.daysToExpire,graph_error_status:this._options.audioGraphStatus,number_of_days:this._options.totalActivatedDays,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:this._options.backToEntryBtn||"",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_PANEL,trigger:s.qq.TRIGGER.DFD_PANEL_BACK_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.BACK_TO_ENTRY,audio_detection_state:this._options.audioDetectionState,time_scanned_minutes:this._options.scannedMinutes,time_flagged_minutes:this._options.flaggedMinutes,deepfake_detected_count:this._options.fakeDetectedCount,snooze_duration:this._options.snoozeDuration,is_trial:this._options.isTrial,days_to_expire:this._options.daysToExpire,graph_error_status:this._options.audioGraphStatus,number_of_days:this._options.totalActivatedDays,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:this._options.mbBasicButton||"",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_PANEL,trigger:s.qq.TRIGGER.DFD_PANEL_BASICS_BTN_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.FAQ_CLICKED,audio_detection_state:this._options.audioDetectionState,time_scanned_minutes:this._options.scannedMinutes,time_flagged_minutes:this._options.flaggedMinutes,deepfake_detected_count:this._options.fakeDetectedCount,snooze_duration:this._options.snoozeDuration,is_trial:this._options.isTrial,days_to_expire:this._options.daysToExpire,graph_error_status:this._options.audioGraphStatus,number_of_days:this._options.totalActivatedDays,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"dfdFaqSidebarShow"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.SCREEN,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_FAQ_PANEL,trigger:this._options.triggerForMbFaq,action:s.qq.ACTION.NO_ACTION,is_interactive:!1,browser:o.A.browserTypeToString(!0),interaction:s.N8.IMPRESSION,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,sendTelemetry:"dfdFaqPanelCloseClicked"===this._options.originFrom},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_FAQ_PANEL,trigger:s.qq.TRIGGER.X_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.CLOSED,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:this._options.contactSupportLink||"",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_FAQ_PANEL,trigger:s.qq.TRIGGER.DFD_FAQ_PANEL_SUPPORT_BTN_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.FAQ_SUPPORT_CLICKED,suite_csp_id:this._options.wpsCspClientId}}]},{trigger:{identifier:s.MN.DFD.EVENT_NAME,selector:this._options.mbFaqBackBtn||"",action:i.tz.ACTION.CLICK},messages:[{template:{analyticsSDK:!0,_event_name:s.MN.DFD.EVENT_NAME,type:s.D8.EVENT,event_id:s.MN.DFD.EVENT_ID,screen_name:s.qq.SCREEN_NAME.SIDEBAR_FAQ_PANEL,trigger:s.qq.TRIGGER.DFD_FAQ_PANEL_BACK_CLICKED,action:s.qq.ACTION.WA_INTERACTION,is_interactive:!0,browser:o.A.browserTypeToString(!0),interaction:s.N8.BACK_TO_DFD_PANEL,suite_csp_id:this._options.wpsCspClientId}}]}]}}},3918:(e,t,n)=>{n.d(t,{A:()=>_});n(1171);var i=n(6571),s=n(2252),o=n(1457),a=n(1728),r=n(9866);class _{constructor(e,t){this.data=e,this.container=t,this.query=t.query,this.closeContainer=t.closeContainer,this.clickListener=t.clickListener,this.dblclickListener=t.dblclickListener,this.mousedownListener=t.mousedownListener,this.strConvertor=new i.A(null,this.container.shadowRoot),this.strConvertor.init(),this.elements={bannerContainer:this.query("#banner_container"),promptTitle:this.query("#mb_prompt_banner_title"),promptDesc:this.query("#mb_prompt_banner_desc_div"),buttonDiv:this.query("#buttons"),activatedTitle:this.query("#mb_activated_banner_title"),activatedDesc:this.query("#mb_activated_banner_desc_div"),activatedCheckmarkDiv:this.query("#checkmark_img")},this.options={identifier:a.MN.DFD.EVENT_NAME,displayType:a.qq.DISPLAY_TYPE.EMBEDED_BANNER,wpsCspClientId:a.oo.toTlmWpsCspClientId(e?.wpsCspClientId),containerMeta:t}}async init(){this.initText(),this.buttonListeners(),await this.container.showContainer({delay:100});const e=await(0,s.L)(o.HG.MB_GET_ACTIVATE_BANNER_SHOWN_COUNT);this.options.msgSequence=e,this.options.isFromActivationPage=!0,this.options.screenName=a.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER,r.A.handle(this.options)}initText(){this.elements.activatedTitle.style.display="none",this.elements.activatedDesc.style.display="none",this.elements.activatedCheckmarkDiv.style.display="none";const e=`<p id="mb_banner_learn_more">${this.strConvertor.localeData("mb_banner_learn_more")}</p>`,t=this.strConvertor.localeData("mb_prompt_banner_desc",[e]);this.query("#mb_prompt_banner_desc").innerHTML=t}buttonListeners(){this.clickListener("#mb_banner_activate_button",(()=>{this.elements.promptTitle.style.display="none",this.elements.promptDesc.style.display="none",this.elements.buttonDiv.style.display="none",this.elements.bannerContainer.style.gap="15px",this.elements.activatedCheckmarkDiv.style.display="block",this.elements.activatedTitle.style.display="block",this.elements.activatedDesc.style.display="block",(0,s.L)(o.HG.MB_OPT_IN),this.resetCloseBtnEventListeners(),this.options.isFromActivationPage=!1,this.options.isFromSuccessPage=!0,this.options.screenName=a.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER_SUCCESS,setTimeout((()=>r.A.handle(this.options)),350)})),this.clickListener("#close_button",(()=>{this.closeContainer()})),this.clickListener("#mb_banner_learn_more",(()=>{(0,s.L)(o.HG.SHOW_MB_FAQ)})),this.clickListener("#banner_container",(e=>{e.stopPropagation()})),this.mousedownListener("#banner_container",(e=>{e.stopPropagation()})),this.dblclickListener("#banner_container",(e=>{e.stopPropagation()}))}resetCloseBtnEventListeners(){const e=this.query("#close_button"),t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("click",(()=>{this.closeContainer()}))}}},3103:(e,t,n)=>{n.d(t,{B:()=>i});const i={ERROR:"ERROR",NO_VIDEO_PLAYING:"NO_VIDEO_PLAYING",NO_AUDIO_PLAYING:"NO_AUDIO_PLAYING",FEATURE_OFF:"FEATURE_OFF",DISPLAYED:"DISPLAYED"}},6571:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(22);class s{constructor(e=null,t=document){if(this.resourcerequestor=i.A,this.document=t,e){const t=this.document.querySelectorAll(`#${e}`);t&&(this.document=t[0].contentDocument)}this.localeData=this.localeData.bind(this),this.fillText=this.fillText.bind(this),this.fillLocalizedTexts=this.fillLocalizedTexts.bind(this),this.fillInputPlaceHolders=this.fillInputPlaceHolders.bind(this)}localeData(e,t=[]){return this.resourcerequestor.geti18nRes(e,t)}fillText(e,t){const n=this.document.getElementById(e);if(n){const e=n.getAttribute("x-mcinsertposition");if(e)return void n.insertAdjacentText(e,t);n.textContent=t,n.setAttribute("x-mcl10nprocessed",!0)}}fillLocalizedTexts(){for(const{id:e}of this.document.querySelectorAll("*[x-mclocalizedtext]:not([x-mcl10nprocessed=true])")){const t=this.localeData(e);if(null==t)return!1;this.fillText(e,t)}return!0}fillInputPlaceHolders(){for(const{id:e}of this.document.querySelectorAll("*[x-inputplaceholder]")){const t=this.localeData(e),n=this.document.getElementById(e);if(null==t)return!1;null!=n&&n.setAttribute("placeholder",t)}return!0}init(){this.fillLocalizedTexts(),this.fillInputPlaceHolders()}}},6511:(e,t,n)=>{n.d(t,{Ay:()=>o,If:()=>a});var i=n(2966),s=n(6796);class o{static debounce(e,t,n){let i;return(...s)=>{const o=n&&!i;clearTimeout(i),i=setTimeout((()=>{i=null,n||e(...s)}),t),o&&e(...s)}}static isBrowserEN(){return s.c.i18n.getUILanguage().toLowerCase().startsWith("en")}static isChromeBrowser(){const e=navigator.userAgent.toLowerCase();return!(!e.includes("chrome")||!1==!!chrome)&&(!e.includes("opr")&&!e.includes("edg"))}static isWindowsOS(){const{platform:e}=navigator;return e&&-1!==e.search("Win")}static getPlatform(){const{platform:e}=navigator;let t=i.i9.WINDOWS;return-1!==e.search("Mac")?t=i.i9.MAC_OS:-1!==e.search("iPhone")&&(t=i.i9.IOS),t}}const a=e=>{"undefined"!=typeof document&&null!==document&&("complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?e():document.addEventListener("DOMContentLoaded",e))}},1171:()=>{}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i=n(1457),s=n(6511),o=n(827);class a{constructor(e){this.pingCommand=e,this.basePingListener(),this.addIdentifier()}basePingListener(e=null){((e,t=null,n)=>{"function"==typeof n?chrome.runtime.onMessage.addListener(((i,s,o)=>{if(s.id===chrome.runtime.id&&"object"==typeof i&&!Array.isArray(i)&&i?.ipcId===e)return n({promises:t,request:i,sender:s,sendResponse:o})})):o.Ay.error("Provided with invalid callback function")})("WA",null,(({request:t,sendResponse:n})=>{const{command:i}=t;if(i===this.pingCommand)return o.Ay.debug(`File Injection [pinged]: Received ${i} command`),n({content:!0}),"function"==typeof e&&e(),!0}))}addIdentifier(){(0,s.If)((()=>{const e=document.createElement("span");e.id=this.pingCommand,e.style.cssText="display:none",document.body.appendChild(e)}))}}var r=n(2252),_=n(6796),E=n(2966);class l{onHttpResponse(e){if(!e){const t="[HttpService:onHttpResponse] invalid response.";return o.Ay.warn(t),e}if(!e.ok){const t=`[HttpService:onHttpResponse] status: ${e.status}, errortext: ${e.statusText}`;o.Ay.warn(t)}return e}async sendHttpRequest({url:e,headers:t,body:n,method:i="GET"},s=!0){try{t||(t={}),s&&(t["Cache-Control"]="no-cache");const a={headers:t,method:i,body:n};o.Ay.debug(`[sendHttpRequest] url: ${e}, options: ${JSON.stringify(a)}`);const r=await fetch(e,a);return await this.onHttpResponse(r)}catch(t){return o.Ay.error(`[sendHttpRequest] Failed to fetch on: "${e}", got error: ${t?.message}`),null}}async sendHttpRequestJson({url:e,headers:t,body:n,method:i="GET"},s={},a=!0){const r=await this.sendHttpRequest({url:e,headers:t,body:n,method:i},a);if(!r||!r.ok)return s;try{return await r.json()}catch(t){return o.Ay.warn(`[HttpService.sendHttpRequestJson] Failed to convert response to JSON on: "${e}", got error: ${t?.message}`),s}}async sendHttpRequestText({url:e,headers:t,body:n,method:i="GET"},s="",a=!0){const r=await this.sendHttpRequest({url:e,headers:t,body:n,method:i},a);if(!r||!r.ok)return s;try{return(await r.text()).trim()}catch(t){return o.Ay.warn(`[HttpService.sendHttpRequestText] Failed to convert response to Text on: "${e}", got error: ${t?.message}`),s}}}
/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */
const{entries:c,setPrototypeOf:T,isFrozen:N,getPrototypeOf:A,getOwnPropertyDescriptor:d}=Object;let{freeze:S,seal:p,create:I}=Object,{apply:m,construct:u}="undefined"!=typeof Reflect&&Reflect;S||(S=function(e){return e}),p||(p=function(e){return e}),m||(m=function(e,t,n){return e.apply(t,n)}),u||(u=function(e,t){return new e(...t)});const O=G(Array.prototype.forEach),R=G(Array.prototype.pop),h=G(Array.prototype.push),C=G(String.prototype.toLowerCase),D=G(String.prototype.toString),g=G(String.prototype.match),y=G(String.prototype.replace),L=G(String.prototype.indexOf),f=G(String.prototype.trim),b=G(Object.prototype.hasOwnProperty),P=G(RegExp.prototype.test),M=(w=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(w,t)});var w;function G(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return m(e,t,i)}}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;T&&T(e,null);let i=t.length;for(;i--;){let s=t[i];if("string"==typeof s){const e=n(s);e!==s&&(N(t)||(t[i]=e),s=e)}e[s]=!0}return e}function F(e){for(let t=0;t<e.length;t++){b(e,t)||(e[t]=null)}return e}function B(e){const t=I(null);for(const[n,i]of c(e)){b(e,n)&&(Array.isArray(i)?t[n]=F(i):i&&"object"==typeof i&&i.constructor===Object?t[n]=B(i):t[n]=i)}return t}function U(e,t){for(;null!==e;){const n=d(e,t);if(n){if(n.get)return G(n.get);if("function"==typeof n.value)return G(n.value)}e=A(e)}return function(){return null}}const H=S(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),k=S(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),W=S(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),K=S(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),V=S(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),q=S(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),x=S(["#text"]),Y=S(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),z=S(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$=S(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),j=S(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),X=p(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Q=p(/<%[\w\W]*|[\w\W]*%>/gm),J=p(/\$\{[\w\W]*}/gm),Z=p(/^data-[\-\w.\u00B7-\uFFFF]+$/),ee=p(/^aria-[\-\w]+$/),te=p(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ne=p(/^(?:\w+script|data):/i),ie=p(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),se=p(/^html$/i),oe=p(/^[a-z][.\w]*(-[.\w]+)+$/i);var ae=Object.freeze({__proto__:null,ARIA_ATTR:ee,ATTR_WHITESPACE:ie,CUSTOM_ELEMENT:oe,DATA_ATTR:Z,DOCTYPE_NAME:se,ERB_EXPR:Q,IS_ALLOWED_URI:te,IS_SCRIPT_OR_DATA:ne,MUSTACHE_EXPR:X,TMPLIT_EXPR:J});const re=1,_e=3,Ee=7,le=8,ce=9,Te=function(){return"undefined"==typeof window?null:window};var Ne=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te();const n=t=>e(t);if(n.version="3.2.3",n.removed=[],!t||!t.document||t.document.nodeType!==ce)return n.isSupported=!1,n;let{document:i}=t;const s=i,o=s.currentScript,{DocumentFragment:a,HTMLTemplateElement:r,Node:_,Element:E,NodeFilter:l,NamedNodeMap:T=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:N,DOMParser:A,trustedTypes:d}=t,p=E.prototype,m=U(p,"cloneNode"),u=U(p,"remove"),w=U(p,"nextSibling"),G=U(p,"childNodes"),F=U(p,"parentNode");if("function"==typeof r){const e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let X,Q="";const{implementation:J,createNodeIterator:Z,createDocumentFragment:ee,getElementsByTagName:ne}=i,{importNode:ie}=s;let oe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof c&&"function"==typeof F&&J&&void 0!==J.createHTMLDocument;const{MUSTACHE_EXPR:Ne,ERB_EXPR:Ae,TMPLIT_EXPR:de,DATA_ATTR:Se,ARIA_ATTR:pe,IS_SCRIPT_OR_DATA:Ie,ATTR_WHITESPACE:me,CUSTOM_ELEMENT:ue}=ae;let{IS_ALLOWED_URI:Oe}=ae,Re=null;const he=v({},[...H,...k,...W,...V,...x]);let Ce=null;const De=v({},[...Y,...z,...$,...j]);let ge=Object.seal(I(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ye=null,Le=null,fe=!0,be=!0,Pe=!1,Me=!0,we=!1,Ge=!0,ve=!1,Fe=!1,Be=!1,Ue=!1,He=!1,ke=!1,We=!0,Ke=!1,Ve=!0,qe=!1,xe={},Ye=null;const ze=v({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let $e=null;const je=v({},["audio","video","img","source","image","track"]);let Xe=null;const Qe=v({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",Ze="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml";let tt=et,nt=!1,it=null;const st=v({},[Je,Ze,et],D);let ot=v({},["mi","mo","mn","ms","mtext"]),at=v({},["annotation-xml"]);const rt=v({},["title","style","font","a","script"]);let _t=null;const Et=["application/xhtml+xml","text/html"];let lt=null,ct=null;const Tt=i.createElement("form"),Nt=function(e){return e instanceof RegExp||e instanceof Function},At=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ct||ct!==e){if(e&&"object"==typeof e||(e={}),e=B(e),_t=-1===Et.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,lt="application/xhtml+xml"===_t?D:C,Re=b(e,"ALLOWED_TAGS")?v({},e.ALLOWED_TAGS,lt):he,Ce=b(e,"ALLOWED_ATTR")?v({},e.ALLOWED_ATTR,lt):De,it=b(e,"ALLOWED_NAMESPACES")?v({},e.ALLOWED_NAMESPACES,D):st,Xe=b(e,"ADD_URI_SAFE_ATTR")?v(B(Qe),e.ADD_URI_SAFE_ATTR,lt):Qe,$e=b(e,"ADD_DATA_URI_TAGS")?v(B(je),e.ADD_DATA_URI_TAGS,lt):je,Ye=b(e,"FORBID_CONTENTS")?v({},e.FORBID_CONTENTS,lt):ze,ye=b(e,"FORBID_TAGS")?v({},e.FORBID_TAGS,lt):{},Le=b(e,"FORBID_ATTR")?v({},e.FORBID_ATTR,lt):{},xe=!!b(e,"USE_PROFILES")&&e.USE_PROFILES,fe=!1!==e.ALLOW_ARIA_ATTR,be=!1!==e.ALLOW_DATA_ATTR,Pe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Me=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,we=e.SAFE_FOR_TEMPLATES||!1,Ge=!1!==e.SAFE_FOR_XML,ve=e.WHOLE_DOCUMENT||!1,Ue=e.RETURN_DOM||!1,He=e.RETURN_DOM_FRAGMENT||!1,ke=e.RETURN_TRUSTED_TYPE||!1,Be=e.FORCE_BODY||!1,We=!1!==e.SANITIZE_DOM,Ke=e.SANITIZE_NAMED_PROPS||!1,Ve=!1!==e.KEEP_CONTENT,qe=e.IN_PLACE||!1,Oe=e.ALLOWED_URI_REGEXP||te,tt=e.NAMESPACE||et,ot=e.MATHML_TEXT_INTEGRATION_POINTS||ot,at=e.HTML_INTEGRATION_POINTS||at,ge=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Nt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ge.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Nt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ge.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ge.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),we&&(be=!1),He&&(Ue=!0),xe&&(Re=v({},x),Ce=[],!0===xe.html&&(v(Re,H),v(Ce,Y)),!0===xe.svg&&(v(Re,k),v(Ce,z),v(Ce,j)),!0===xe.svgFilters&&(v(Re,W),v(Ce,z),v(Ce,j)),!0===xe.mathMl&&(v(Re,V),v(Ce,$),v(Ce,j))),e.ADD_TAGS&&(Re===he&&(Re=B(Re)),v(Re,e.ADD_TAGS,lt)),e.ADD_ATTR&&(Ce===De&&(Ce=B(Ce)),v(Ce,e.ADD_ATTR,lt)),e.ADD_URI_SAFE_ATTR&&v(Xe,e.ADD_URI_SAFE_ATTR,lt),e.FORBID_CONTENTS&&(Ye===ze&&(Ye=B(Ye)),v(Ye,e.FORBID_CONTENTS,lt)),Ve&&(Re["#text"]=!0),ve&&v(Re,["html","head","body"]),Re.table&&(v(Re,["tbody"]),delete ye.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw M('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw M('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');X=e.TRUSTED_TYPES_POLICY,Q=X.createHTML("")}else void 0===X&&(X=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(n=t.getAttribute(i));const s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+s+" could not be created."),null}}(d,o)),null!==X&&"string"==typeof Q&&(Q=X.createHTML(""));S&&S(e),ct=e}},dt=v({},[...k,...W,...K]),St=v({},[...V,...q]),pt=function(e){h(n.removed,{element:e});try{F(e).removeChild(e)}catch(t){u(e)}},It=function(e,t){try{h(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){h(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Ue||He)try{pt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},mt=function(e){let t=null,n=null;if(Be)e="<remove></remove>"+e;else{const t=g(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===_t&&tt===et&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const s=X?X.createHTML(e):e;if(tt===et)try{t=(new A).parseFromString(s,_t)}catch(e){}if(!t||!t.documentElement){t=J.createDocument(tt,"template",null);try{t.documentElement.innerHTML=nt?Q:s}catch(e){}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(i.createTextNode(n),o.childNodes[0]||null),tt===et?ne.call(t,ve?"html":"body")[0]:ve?t.documentElement:o},ut=function(e){return Z.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},Ot=function(e){return e instanceof N&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof T)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Rt=function(e){return"function"==typeof _&&e instanceof _};function ht(e,t,i){O(e,(e=>{e.call(n,t,i,ct)}))}const Ct=function(e){let t=null;if(ht(oe.beforeSanitizeElements,e,null),Ot(e))return pt(e),!0;const i=lt(e.nodeName);if(ht(oe.uponSanitizeElement,e,{tagName:i,allowedTags:Re}),e.hasChildNodes()&&!Rt(e.firstElementChild)&&P(/<[/\w]/g,e.innerHTML)&&P(/<[/\w]/g,e.textContent))return pt(e),!0;if(e.nodeType===Ee)return pt(e),!0;if(Ge&&e.nodeType===le&&P(/<[/\w]/g,e.data))return pt(e),!0;if(!Re[i]||ye[i]){if(!ye[i]&&gt(i)){if(ge.tagNameCheck instanceof RegExp&&P(ge.tagNameCheck,i))return!1;if(ge.tagNameCheck instanceof Function&&ge.tagNameCheck(i))return!1}if(Ve&&!Ye[i]){const t=F(e)||e.parentNode,n=G(e)||e.childNodes;if(n&&t){for(let i=n.length-1;i>=0;--i){const s=m(n[i],!0);s.__removalCount=(e.__removalCount||0)+1,t.insertBefore(s,w(e))}}}return pt(e),!0}return e instanceof E&&!function(e){let t=F(e);t&&t.tagName||(t={namespaceURI:tt,tagName:"template"});const n=C(e.tagName),i=C(t.tagName);return!!it[e.namespaceURI]&&(e.namespaceURI===Ze?t.namespaceURI===et?"svg"===n:t.namespaceURI===Je?"svg"===n&&("annotation-xml"===i||ot[i]):Boolean(dt[n]):e.namespaceURI===Je?t.namespaceURI===et?"math"===n:t.namespaceURI===Ze?"math"===n&&at[i]:Boolean(St[n]):e.namespaceURI===et?!(t.namespaceURI===Ze&&!at[i])&&!(t.namespaceURI===Je&&!ot[i])&&!St[n]&&(rt[n]||!dt[n]):!("application/xhtml+xml"!==_t||!it[e.namespaceURI]))}(e)?(pt(e),!0):"noscript"!==i&&"noembed"!==i&&"noframes"!==i||!P(/<\/no(script|embed|frames)/i,e.innerHTML)?(we&&e.nodeType===_e&&(t=e.textContent,O([Ne,Ae,de],(e=>{t=y(t,e," ")})),e.textContent!==t&&(h(n.removed,{element:e.cloneNode()}),e.textContent=t)),ht(oe.afterSanitizeElements,e,null),!1):(pt(e),!0)},Dt=function(e,t,n){if(We&&("id"===t||"name"===t)&&(n in i||n in Tt))return!1;if(be&&!Le[t]&&P(Se,t));else if(fe&&P(pe,t));else if(!Ce[t]||Le[t]){if(!(gt(e)&&(ge.tagNameCheck instanceof RegExp&&P(ge.tagNameCheck,e)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(e))&&(ge.attributeNameCheck instanceof RegExp&&P(ge.attributeNameCheck,t)||ge.attributeNameCheck instanceof Function&&ge.attributeNameCheck(t))||"is"===t&&ge.allowCustomizedBuiltInElements&&(ge.tagNameCheck instanceof RegExp&&P(ge.tagNameCheck,n)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(n))))return!1}else if(Xe[t]);else if(P(Oe,y(n,me,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==L(n,"data:")||!$e[e]){if(Pe&&!P(Ie,y(n,me,"")));else if(n)return!1}else;return!0},gt=function(e){return"annotation-xml"!==e&&g(e,ue)},yt=function(e){ht(oe.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Ot(e))return;const i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ce,forceKeepAttr:void 0};let s=t.length;for(;s--;){const o=t[s],{name:a,namespaceURI:r,value:_}=o,E=lt(a);let l="value"===a?_:f(_);if(i.attrName=E,i.attrValue=l,i.keepAttr=!0,i.forceKeepAttr=void 0,ht(oe.uponSanitizeAttribute,e,i),l=i.attrValue,!Ke||"id"!==E&&"name"!==E||(It(a,e),l="user-content-"+l),Ge&&P(/((--!?|])>)|<\/(style|title)/i,l)){It(a,e);continue}if(i.forceKeepAttr)continue;if(It(a,e),!i.keepAttr)continue;if(!Me&&P(/\/>/i,l)){It(a,e);continue}we&&O([Ne,Ae,de],(e=>{l=y(l,e," ")}));const c=lt(e.nodeName);if(Dt(c,E,l)){if(X&&"object"==typeof d&&"function"==typeof d.getAttributeType)if(r);else switch(d.getAttributeType(c,E)){case"TrustedHTML":l=X.createHTML(l);break;case"TrustedScriptURL":l=X.createScriptURL(l)}try{r?e.setAttributeNS(r,a,l):e.setAttribute(a,l),Ot(e)?pt(e):R(n.removed)}catch(e){}}}ht(oe.afterSanitizeAttributes,e,null)},Lt=function e(t){let n=null;const i=ut(t);for(ht(oe.beforeSanitizeShadowDOM,t,null);n=i.nextNode();)ht(oe.uponSanitizeShadowNode,n,null),Ct(n),yt(n),n.content instanceof a&&e(n.content);ht(oe.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null,o=null,r=null,E=null;if(nt=!e,nt&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Rt(e)){if("function"!=typeof e.toString)throw M("toString is not a function");if("string"!=typeof(e=e.toString()))throw M("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Fe||At(t),n.removed=[],"string"==typeof e&&(qe=!1),qe){if(e.nodeName){const t=lt(e.nodeName);if(!Re[t]||ye[t])throw M("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof _)i=mt("\x3c!----\x3e"),o=i.ownerDocument.importNode(e,!0),o.nodeType===re&&"BODY"===o.nodeName||"HTML"===o.nodeName?i=o:i.appendChild(o);else{if(!Ue&&!we&&!ve&&-1===e.indexOf("<"))return X&&ke?X.createHTML(e):e;if(i=mt(e),!i)return Ue?null:ke?Q:""}i&&Be&&pt(i.firstChild);const l=ut(qe?e:i);for(;r=l.nextNode();)Ct(r),yt(r),r.content instanceof a&&Lt(r.content);if(qe)return e;if(Ue){if(He)for(E=ee.call(i.ownerDocument);i.firstChild;)E.appendChild(i.firstChild);else E=i;return(Ce.shadowroot||Ce.shadowrootmode)&&(E=ie.call(s,E,!0)),E}let c=ve?i.outerHTML:i.innerHTML;return ve&&Re["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&P(se,i.ownerDocument.doctype.name)&&(c="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+c),we&&O([Ne,Ae,de],(e=>{c=y(c,e," ")})),X&&ke?X.createHTML(c):c},n.setConfig=function(){At(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Fe=!0},n.clearConfig=function(){ct=null,Fe=!1},n.isValidAttribute=function(e,t,n){ct||At({});const i=lt(e),s=lt(t);return Dt(i,s,n)},n.addHook=function(e,t){"function"==typeof t&&h(oe[e],t)},n.removeHook=function(e){return R(oe[e])},n.removeHooks=function(e){oe[e]=[]},n.removeAllHooks=function(){oe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const Ae=e=>{try{const t={ADD_ATTR:["src-disabled","sma-type","src-unchecked","src-enabled","x-mclocalizedtext","x-mcsrc","x-mcinsertposition","x-inputplaceholder","x-mcl10nprocessed","target"]};return Ne.sanitize(e,t)}catch(e){return""}};class de{static async loadTemplate(e,t,n=null,i={}){const{hostStyles:s}=e,o=document.createElement("div");for(const e in s)o.style[e]=s[e];const a=i?.shadowDomMode||"closed",r=o.attachShadow({mode:a});return de.populateFonts(t?.fontHref),await de.populateContainer(t,r),n&&await de.populateContainer(n,r),i?.customAppendFn&&"function"==typeof i.customAppendFn?i.customAppendFn(o):document?.body?.appendChild(o),{hostNode:o,shadowRoot:r}}static async populateContainer(e,t){const{htmlPath:n,cssPath:i,containerId:s,waImageSecret:o}=e,a=await de.getTemplate(n,i,o);(s&&t.querySelector(`#${s}`)||t).appendChild(a)}static async reloadTemplate(e,t,n){n.innerHTML="",t&&await de.populateContainer(t,n),await de.populateContainer(e,n)}static async getTemplate(e,t=null,n){const i=new l,s=document.createElement("template"),o=await i.sendHttpRequest({url:chrome.runtime.getURL(e)}),a=await o.text();let r="";if(t){const e=await i.sendHttpRequest({url:chrome.runtime.getURL(t)});r=await e.text(),r=`<style>${Ae(r)}</style>`}s.innerHTML=`${r}${Ae(a)}`;for(const e of s.content.querySelectorAll("img[x-mcsrc]:not([x-mcsrcparsed])")){e.getAttribute("src").includes("?secret")||(e.src=chrome.runtime.getURL(`${e.getAttribute("src")}?secret=${n}`),e.setAttribute("x-mcsrcparsed",!0))}return s.content.cloneNode(!0)}static fadeIn(e){e.style.opacity=0,e.style.display="block",function t(){const n=+e.style.opacity+.1;n<1&&(e.style.opacity=n,window.requestAnimationFrame(t))}()}static fadeOut(e,t){let n=!1;e.style.opacity=1,function i(){if(n)return;const s=+e.style.opacity-.1;s<=0?(n=!0,e.style.display="none",t()):(e.style.opacity=s,window.requestAnimationFrame(i))}()}static populateFonts(e){const t=e=>{try{const t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.head.appendChild(t)}catch(e){o.Ay.error(e)}},n=chrome.runtime.getURL("css/mcafee_fonts.css");n&&t(n),e&&"string"==typeof e&&t(e)}}class Se{constructor(e,t=null,n={}){this.closing=!1,this.showing=!1,this.animateReload=!0,this.allowReplace=!0,this.componentData=null,this.template=null,this.hostNode=null,this.shadowRoot=null,this.hostStyles=e,this.baseTemplate=t,this.showContainer=this.showContainer.bind(this),this.closeContainer=this.closeContainer.bind(this),this.query=this.query.bind(this),this.querySelectorAll=this.querySelectorAll.bind(this),this.clickListener=this.clickListener.bind(this),this.mouseoverListener=this.mouseoverListener.bind(this),this.mouseoutListener=this.mouseoutListener.bind(this),this.dblclickListener=this.dblclickListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.isShowing=this.isShowing.bind(this),this.bgGrayout=!1,this.bgGrayoutElement=null,this.closingShadowDomListener=n.closingShadowDomListener,this.shadowDomMode=n.shadowDomMode||"closed",this.isTrustCheckRequired=n.isTrustCheckRequired||!0,this.resize=!1,this.domHeight=""}async initContainer(e,t=null,n={}){if(this.closing)return o.Ay.log("initContainer still closing"),!1;if(o.Ay.log("initContainer start"),this.showing&&!1===this.allowReplace&&Se.isSameObject(e,this.template))return!1;if(this.componentData&&JSON.stringify(this.componentData)===JSON.stringify(t))return!1;this.componentData=t;const{allowReplace:i=!0,animateReload:s=!0,resize:a=!1}=e;if(this.allowReplace=i,this.animateReload=s,this.resize=a,this.showing=!0,this.hostNode&&i)return await this.reloadContainer(e),!0;let r={...e};this.template=r,null===this.baseTemplate&&(this.baseTemplate=r,r=null);const _={hostStyles:{...this.hostStyles.DEFAULT,...this.hostStyles.HIDE}},E={shadowDomMode:this.shadowDomMode,customAppendFn:n.customAppendFn},{hostNode:l,shadowRoot:c}=await de.loadTemplate(_,this.baseTemplate,r,E);return this.hostNode=l,this.shadowRoot=c,this.resize&&window.addEventListener("resize",this.resizefn.bind(this)),!0}isShowing(){return this.showing}static isSameObject(e=null,t=null){return null===e&&null===t||e&&t&&JSON.stringify(e)===JSON.stringify(t)}async reloadContainer(e,t=this.animateReload){await this.closeContainer(!1,t),this.template=e,await de.reloadTemplate(e,this.baseTemplate,this.shadowRoot)}showBackgroundGrayout(e){if(this.bgGrayout=e,!e)return;this.bgGrayoutElement=document.createElement("div"),this.bgGrayoutElement.style.cssText="display:none; width: 100%; height: 100%; position: fixed; top: 0px; left: 0px; z-index: 99999; background: rgba(0, 0, 0, 0.3);";const t=document.querySelector("body");t.append(this.bgGrayoutElement),t.style.overflow="hidden",de.fadeIn(this.bgGrayoutElement)}hideBackgroundGrayOut(){this.bgGrayoutElement&&this.bgGrayout&&(de.fadeOut(this.bgGrayoutElement,(()=>{})),document.querySelector("body")?.style&&(document.querySelector("body").style.overflow="auto"),this.bgGrayout=!1)}showContainer(e={}){setTimeout((()=>{const t=e?.bgGrayout;this.showBackgroundGrayout(t);for(const e in this.hostStyles.SHOW)this.hostNode.style[e]=this.hostStyles.SHOW[e];this.resize&&this.hostNode&&(this.domHeight="",this.getContainerHeight())}),e?.delay||0)}async closeContainer(e=!0,t=!0){if(this.closing)return;this.hideBackgroundGrayOut(),this.closing=!0,"function"==typeof this.closingShadowDomListener&&this.closingShadowDomListener();const n=()=>{this.closing=!1,this.showing=!1,e&&(this.hostNode&&this.hostNode.remove(),this.hostNode=null,this.componentData=null,this.template=null,this.shadowRoot=null,this.baseTemplate=null)};if(!t)return void n();const i={...this.hostStyles.DEFAULT,...this.hostStyles.HIDE};for(const e in i)this.hostNode&&(this.hostNode.style[e]=i[e]);const s=new Promise((e=>{setTimeout((()=>{n(),e()}),500)}));await s}query(e){return this.shadowRoot?.querySelector(e)}querySelector(e){return this.shadowRoot?.querySelector(e)}querySelectorAll(e){return this.shadowRoot?.querySelectorAll(e)}clickListener(e,t){const n=this.shadowRoot?.querySelector(e);n&&n.addEventListener("click",(e=>{this.isTrustCheckRequired&&!e.isTrusted||t(e)}))}mouseoverListener(e,t){const n=this.shadowRoot?.querySelector(e);n&&n.addEventListener("mouseover",(e=>{this.isTrustCheckRequired&&!e.isTrusted||t(e)}))}mouseoutListener(e,t){const n=this.shadowRoot?.querySelector(e);n&&n.addEventListener("mouseout",(e=>{this.isTrustCheckRequired&&!e.isTrusted||t(e)}))}dblclickListener(e,t){const n=this.shadowRoot?.querySelector(e);n&&n.addEventListener("dblclick",(e=>{this.isTrustCheckRequired&&!e.isTrusted||t(e)}))}mousedownListener(e,t){const n=this.shadowRoot?.querySelector(e);n&&n.addEventListener("mousedown",(e=>{this.isTrustCheckRequired&&!e.isTrusted||t(e)}))}getContainerHeight(){let e=3;const t=setInterval((()=>{this.hostNode?(this.domHeight!==this.hostNode.offsetHeight&&(this.domHeight=this.hostNode.offsetHeight,this.resizefn()),--e<=0&&clearInterval(t)):clearInterval(t)}),1e3)}resizefn(){if(!this.hostNode)return;const e=window.innerHeight;this.domHeight>e?(this.hostNode.style.height=`${e}px`,this.hostNode.style["overflow-y"]="scroll"):this.domHeight<window.innerHeight&&(this.hostNode.style.height="Auto",this.hostNode.style["overflow-y"]="unset")}}const pe=e=>{let{top:t,left:n}=Ie(e);return t<0&&(t=0),n<0&&(n=0),{top:t,left:n}},Ie=e=>{const t=e.getBoundingClientRect(),n=window.pageYOffset||window.scrollY,i=window.pageXOffset||window.scrollX;return{top:Math.round(t.top+n),left:Math.round(t.left+i),bottom:Math.round(t.bottom+n),right:Math.round(t.right+i)}},me={DEFAULT:{zIndex:"2147483646",border:"none",display:"block",position:"fixed",boxSizing:"border-box",userSelect:"none"},HIDE:{transition:"width 0s 0.4s, height 0s 0.4s, opacity 0.4s, transform 0.4s",transform:"translate3d(0, -80px, 0)",opacity:"0",minHeight:"0"},SHOW:{transition:"opacity 0.4s, transform 0.4s",transform:"translate3d(0, 0, 0)",opacity:"1"}};class ue extends Se{constructor(e,{shadowMode:t,isTrustCheckRequired:n}){const s={shadowDomMode:t,isTrustCheckRequired:n};me.DEFAULT.position=e===i.fI.PAGE_BANNER?"fixed":"absolute",me.SHOW.minHeight=e===i.fI.PAGE_BANNER?"100px":"113px",e===i.fI.PAGE_BANNER&&(me.SHOW.width="100%",me.DEFAULT.top="0",me.DEFAULT.left="0"),super(me,null,s),this.appendBannerToVideoContainer=this.appendBannerToVideoContainer.bind(this)}async init(e,t,n){const s=await this.initContainer(e,t,{customAppendFn:n===i.fI.PAGE_BANNER?null:this.appendBannerToVideoContainer});return s?(n===i.fI.ACTIVATE_BANNER&&window.addEventListener("resize",this.handleActivateBannerResize.bind(this)),this.injectImages(),s):s}appendBannerToVideoContainer(e){if(!e)return;if(this.videoElement=document.querySelector(`[${E.mD.MB_VIDEO_KEY}="${E.mD.MB_VIDEO_VALUE}"]`),!this.videoElement)return void o.Ay.warn("[MB:activatebanner] appendBannerToVideoContainer: failed to find video container");this.topParentNode=(e=>{let t=e.parentElement;if(null===t)return e;let n=pe(t);const i=pe(e);let s=1,o=e;for(;null!==t&&i.top===n.top&&i.left===n.left&&s<3;)s++,o=t,t=t.parentElement,null!==t&&(n=pe(t));return o})(this.videoElement);const t=["relative","fixed"].includes(window.getComputedStyle(this.topParentNode).getPropertyValue("position")),n=window.getComputedStyle(this.videoElement).getPropertyValue("width");e.style.top=`${t?0:this.topParentNode.offsetTop}px`,e.style.left=`${t?0:this.topParentNode.offsetLeft}px`,e.style.zIndex="999",e.style.padding="20px",e.style.width=n;const i="VIDEO"===this.topParentNode.tagName?"afterend":"afterbegin";this.topParentNode.insertAdjacentElement(i,e)}handleActivateBannerResize(){if(!this.hostNode||!this.videoElement)return;const e=window.getComputedStyle(this.videoElement).getPropertyValue("width");this.hostNode.style.width=e}async injectImages(){const e=await(0,r.L)(i.HG.GET_BK_GLOBALS),t=JSON.parse(e).WA_IMAGE_SECRET,n=this.query("#banner_img");n&&n.setAttribute("src",_.c.runtime.getURL(`../../images/banner/mb_activate_banner_img.svg?secret=${t}`));const s=this.query("#banner_close_icon");s&&s.setAttribute("src",_.c.runtime.getURL(`../../images/banner/mb_banner_close.svg?secret=${t}`))}}var Oe=n(3918),Re=(n(1171),n(6571)),he=n(1728),Ce=n(9866);class De{constructor(e,t){this.data=e,this.container=t,this.query=t.query,this.closeContainer=t.closeContainer,this.clickListener=t.clickListener,this.dblclickListener=t.dblclickListener,this.mousedownListener=t.mousedownListener,this.strConvertor=new Re.A(null,this.container.shadowRoot),this.strConvertor.init(),this.elements={bannerContainer:this.query("#banner_container"),promptTitle:this.query("#mb_prompt_banner_title"),promptDesc:this.query("#mb_prompt_banner_desc_div"),buttonDiv:this.query("#buttons"),activatedTitle:this.query("#mb_activated_banner_title"),activatedDesc:this.query("#mb_activated_banner_desc_div"),activatedCheckmarkDiv:this.query("#checkmark_img")},this.options={identifier:he.MN.DFD.EVENT_NAME,displayType:he.qq.DISPLAY_TYPE.PAGE_BANNER,wpsCspClientId:he.oo.toTlmWpsCspClientId(e?.wpsCspClientId),containerMeta:t}}async init(){this.initText(),this.buttonListeners(),this.container.showContainer({delay:100});const e=await(0,r.L)(i.HG.MB_GET_ACTIVATE_BANNER_SHOWN_COUNT);this.options.msgSequence=e,this.options.isFromActivationPage=!0,this.options.screenName=he.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER,Ce.A.handle(this.options)}initText(){this.elements.activatedTitle.style.display="none",this.elements.activatedDesc.style.display="none",this.elements.activatedCheckmarkDiv.style.display="none";const e=`<p id="mb_banner_learn_more">${this.strConvertor.localeData("mb_banner_learn_more")}</p>`,t=this.strConvertor.localeData("mb_prompt_banner_desc",[e]);this.query("#mb_prompt_banner_desc").innerHTML=t}buttonListeners(){this.clickListener("#mb_banner_activate_button",(()=>{this.elements.promptTitle.style.display="none",this.elements.promptDesc.style.display="none",this.elements.buttonDiv.style.display="none",this.elements.bannerContainer.style.gap="15px",this.elements.activatedCheckmarkDiv.style.display="block",this.elements.activatedTitle.style.display="block",this.elements.activatedDesc.style.display="block",(0,r.L)(i.HG.MB_OPT_IN),this.resetCloseBtnEventListeners(),this.options.isFromActivationPage=!1,this.options.isFromSuccessPage=!0,this.options.screenName=he.qq.SCREEN_NAME.ACTIVATION_ENROLLMENT_BANNER_SUCCESS,setTimeout((()=>Ce.A.handle(this.options)),350)})),this.clickListener("#close_button",(()=>{this.closeContainer()})),this.clickListener("#mb_banner_learn_more",(()=>{(0,r.L)(i.HG.SHOW_MB_FAQ)})),this.clickListener("#banner_container",(e=>{e.stopPropagation()})),this.mousedownListener("#banner_container",(e=>{e.stopPropagation()})),this.dblclickListener("#banner_container",(e=>{e.stopPropagation()}))}resetCloseBtnEventListeners(){const e=this.query("#close_button"),t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("click",(()=>{this.closeContainer()}))}}class ge{constructor(){this.componentMap={[i.fI.ACTIVATE_BANNER]:{template:{htmlPath:"html/activate_banner_mb.html",cssPath:"css/mb_activate_banner.css"},Component:Oe.A},[i.fI.PAGE_BANNER]:{template:{htmlPath:"html/page_banner_mb.html",cssPath:"css/mb_page_banner.css"},Component:De}}}async processMessage(e){const{subcommand:t,componentData:n}=e;if(!t)return;const s=this.componentMap[t];if(!s)return;const{template:o,Component:a}=s,_=await(0,r.L)(i.HG.GET_BK_GLOBALS),E=JSON.parse(_);o.waImageSecret=E.WA_IMAGE_SECRET,this.mbActivateBannerContainer=new ue(t,E);await this.mbActivateBannerContainer.init(o,n,t)&&new a(n,this.mbActivateBannerContainer).init(E)}}(new class extends a{constructor(){super(i.U7.PING_CONTENT_MB_ACTIVATE_BANNER),this.mbVideoUIHandler=new ge}async main(){const e=await(0,r.L)(i.HG.GET_BK_GLOBALS),{WA_IMAGE_SECRET:t,IDPS_CSP_CLIENT_ID:n}=JSON.parse(e);this.mbVideoUIHandler.processMessage({subcommand:i.fI.ACTIVATE_BANNER,componentData:{waImageSecret:t,wpsCspClientId:n}})}}).main()})();
//# sourceMappingURL=../sourceMap/chrome/scripts/content_mb_activate_banner.js.map